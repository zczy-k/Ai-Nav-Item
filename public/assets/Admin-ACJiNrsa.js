var Ie=Object.defineProperty,Se=Object.defineProperties;var Le=Object.getOwnPropertyDescriptors;var Ce=Object.getOwnPropertySymbols;var We=Object.prototype.hasOwnProperty,Ne=Object.prototype.propertyIsEnumerable;var Me=(z,d,u)=>d in z?Ie(z,d,{enumerable:!0,configurable:!0,writable:!0,value:u}):z[d]=u,me=(z,d)=>{for(var u in d||(d={}))We.call(d,u)&&Me(z,u,d[u]);if(Ce)for(var u of Ce(d))Ne.call(d,u)&&Me(z,u,d[u]);return z},fe=(z,d)=>Se(z,Le(d));var A=(z,d,u)=>new Promise((B,V)=>{var L=n=>{try{U(u.next(n))}catch(p){V(p)}},T=n=>{try{U(u.throw(n))}catch(p){V(p)}},U=n=>n.done?B(n.value):Promise.resolve(n.value).then(L,T);U((u=u.apply(z,d)).next())});import{_ as ee,c as r,o as i,b as e,t as k,z as ie,r as g,g as le,d as N,w as x,v as I,l as ke,F as q,a as J,e as ne,A as xe,B as ye,q as P,x as _e,j as $e,n as O,C as ae,y as he,p as oe,h as ze,D as Ee,i as Pe,k as He,T as Oe,E as Fe,G as Re,H as je}from"./index-BkKez0hU.js";import{g as De,q as qe,r as Je,s as Ge,t as Ke,w as Qe,x as Xe,c as Ae,i as Ye,u as Ve,n as Be,e as Ze,y as et,z as tt,A as we,B as st,C as lt,D as at,E as ot,F as be,b as nt,G as it,H as dt,I as rt,J as ut,K as ct,L as vt,M as pt}from"./urlNormalizer-QnvKMJhB.js";const mt={class:"welcome-page"},bt={class:"welcome-title"},gt={class:"welcome-cards"},ft={class:"welcome-card"},ht={class:"welcome-value"},wt={class:"welcome-card"},kt={class:"welcome-value"},yt={__name:"WelcomePage",props:{lastLoginTime:String,lastLoginIp:String,currentUsername:String},setup(z){return(d,u)=>(i(),r("div",mt,[e("h2",bt,"æ¬¢è¿æ‚¨ï¼Œ"+k(z.currentUsername||"admin")+"ï¼",1),e("div",gt,[e("div",ft,[u[0]||(u[0]=ie('<div class="welcome-icon time-icon" data-v-5cc4f846><svg width="32" height="32" viewBox="0 0 24 24" fill="none" data-v-5cc4f846><circle cx="12" cy="12" r="10" stroke="#1abc9c" stroke-width="2" data-v-5cc4f846></circle><path d="M12 6v6l4 2" stroke="#1abc9c" stroke-width="2" stroke-linecap="round" data-v-5cc4f846></path></svg></div><div class="welcome-label" data-v-5cc4f846>ä¸Šæ¬¡ç™»å½•æ—¶é—´</div>',2)),e("div",ht,k(z.lastLoginTime||"--"),1)]),e("div",wt,[u[1]||(u[1]=ie('<div class="welcome-icon ip-icon" data-v-5cc4f846><svg width="32" height="32" viewBox="0 0 24 24" fill="none" data-v-5cc4f846><circle cx="12" cy="12" r="10" stroke="#1abc9c" stroke-width="2" data-v-5cc4f846></circle><path d="M12 8a4 4 0 1 1 0 8 4 4 0 0 1 0-8z" stroke="#1abc9c" stroke-width="2" data-v-5cc4f846></path><circle cx="12" cy="12" r="2" fill="#1abc9c" data-v-5cc4f846></circle></svg></div><div class="welcome-label" data-v-5cc4f846>ä¸Šæ¬¡ç™»å½•IP</div>',2)),e("div",kt,k(z.lastLoginIp||"--"),1)])])]))}},_t=ee(yt,[["__scopeId","data-v-5cc4f846"]]),$t={class:"menu-manage"},Ct={key:0,class:"loading-overlay"},Mt={class:"menu-header"},xt={class:"menu-add"},Vt=["disabled"],Bt={class:"menu-content"},Ut={key:0,class:"empty-state"},Dt={class:"menu-card-header"},At={class:"menu-title"},Tt={class:"menu-name"},It={class:"menu-order"},St={class:"menu-actions"},Lt=["onClick"],Wt=["onClick"],Nt=["onClick"],zt={key:0,class:"sub-menu-list"},Et={class:"sub-menu-name"},Pt={class:"sub-menu-order"},Ht={class:"sub-menu-actions"},Ot=["onClick"],Ft=["onClick"],Rt={key:1,class:"no-sub-menu"},jt={key:1,class:"modal-overlay"},qt={class:"modal"},Jt={class:"modal-header"},Gt={class:"modal-body"},Kt={class:"form-group"},Qt={class:"form-group"},Xt={class:"modal-footer"},Yt=["disabled"],Zt={key:2,class:"modal-overlay"},es={class:"modal"},ts={class:"modal-header"},ss={class:"modal-body"},ls={class:"form-group"},as={class:"form-group"},os={class:"modal-footer"},ns=["disabled"],is={key:3,class:"modal-overlay"},ds={class:"modal"},rs={class:"modal-body"},us={class:"form-group"},cs={class:"form-group"},vs={class:"modal-footer"},ps=["disabled"],ms={__name:"MenuManage",setup(z){const d=g([]),u=g(!1),B=g("åŠ è½½ä¸­..."),V=g(""),L=g(!1),T=g(null),U=g({name:"",order:0}),n=g(!1),p=g(null),m=g(""),v=g({name:"",order:0}),h=g(!1),y=g(null),a=g({name:"",order:0});le(()=>{l()});function o(){try{window.dispatchEvent(new CustomEvent("nav-menus-updated")),console.log("[æ ç›®ç®¡ç†] å·²é€šçŸ¥æ‰©å±•åˆ·æ–°å³é”®èœå•")}catch(W){console.warn("[æ ç›®ç®¡ç†] é€šçŸ¥æ‰©å±•å¤±è´¥:",W)}}function l(W=!1){return A(this,null,function*(){var b,M;u.value=!0,B.value="åŠ è½½ä¸­...";try{const D=yield De(!0);d.value=D.data||[],W&&o()}catch(D){alert("åŠ è½½å¤±è´¥: "+(((M=(b=D.response)==null?void 0:b.data)==null?void 0:M.error)||D.message))}finally{u.value=!1}})}function C(){return A(this,null,function*(){var W,b;if(V.value.trim()){u.value=!0,B.value="æ·»åŠ ä¸­...";try{const M=d.value.length?Math.max(...d.value.map(D=>D.order||0)):0;yield qe({name:V.value.trim(),order:M+1}),V.value="",yield l(!0)}catch(M){alert("æ·»åŠ å¤±è´¥: "+(((b=(W=M.response)==null?void 0:W.data)==null?void 0:b.error)||M.message)),u.value=!1}}})}function w(W){T.value=W,U.value={name:W.name,order:W.order},L.value=!0}function _(){return A(this,null,function*(){var D,c;if(!U.value.name.trim()||!T.value)return;const W=T.value.id,b=U.value.name.trim(),M=U.value.order;R(),u.value=!0,B.value="ä¿å­˜ä¸­...";try{yield Ke(W,{name:b,order:M}),yield l(!0)}catch(s){alert("ä¿å­˜å¤±è´¥: "+(((c=(D=s.response)==null?void 0:D.data)==null?void 0:c.error)||s.message)),u.value=!1}})}function H(W){return A(this,null,function*(){var b,M;if(confirm(`ç¡®å®šåˆ é™¤ä¸»èœå•ã€Œ${W.name}ã€å—ï¼Ÿ
å°†åŒæ—¶åˆ é™¤å…¶ä¸‹æ‰€æœ‰å­èœå•å’Œå¡ç‰‡ï¼`)){u.value=!0,B.value="åˆ é™¤ä¸­...";try{yield Je(W.id),yield l(!0)}catch(D){alert("åˆ é™¤å¤±è´¥: "+(((M=(b=D.response)==null?void 0:b.data)==null?void 0:M.error)||D.message)),u.value=!1}}})}function Q(W){p.value=W.id,m.value=W.name;const b=W.subMenus||[],M=b.length?Math.max(...b.map(D=>D.order||0)):0;v.value={name:"",order:M+1},n.value=!0}function X(){return A(this,null,function*(){var D,c;if(!v.value.name.trim()||!p.value)return;const W=p.value,b=v.value.name.trim(),M=v.value.order;R(),u.value=!0,B.value="æ·»åŠ ä¸­...";try{yield Qe(W,{name:b,order:M}),yield l(!0)}catch(s){alert("æ·»åŠ å¤±è´¥: "+(((c=(D=s.response)==null?void 0:D.data)==null?void 0:c.error)||s.message)),u.value=!1}})}function Y(W,b){y.value=b,a.value={name:b.name,order:b.order},h.value=!0}function te(){return A(this,null,function*(){var D,c;if(!a.value.name.trim()||!y.value)return;const W=y.value.id,b=a.value.name.trim(),M=a.value.order;R(),u.value=!0,B.value="ä¿å­˜ä¸­...";try{yield Xe(W,{name:b,order:M}),yield l(!0)}catch(s){alert("ä¿å­˜å¤±è´¥: "+(((c=(D=s.response)==null?void 0:D.data)==null?void 0:c.error)||s.message)),u.value=!1}})}function F(W){return A(this,null,function*(){var b,M;if(confirm(`ç¡®å®šåˆ é™¤å­èœå•ã€Œ${W.name}ã€å—ï¼Ÿ
å°†åŒæ—¶åˆ é™¤å…¶ä¸‹æ‰€æœ‰å¡ç‰‡ï¼`)){u.value=!0,B.value="åˆ é™¤ä¸­...";try{yield Ge(W.id),yield l(!0)}catch(D){alert("åˆ é™¤å¤±è´¥: "+(((M=(b=D.response)==null?void 0:b.data)==null?void 0:M.error)||D.message)),u.value=!1}}})}function R(){L.value=!1,n.value=!1,h.value=!1,T.value=null,y.value=null}return(W,b)=>(i(),r("div",$t,[u.value?(i(),r("div",Ct,[b[7]||(b[7]=e("div",{class:"loading-spinner"},null,-1)),e("span",null,k(B.value),1)])):N("",!0),e("div",Mt,[b[8]||(b[8]=e("h2",{class:"page-title"},"æ ç›®ç®¡ç†",-1)),e("div",xt,[x(e("input",{"onUpdate:modelValue":b[0]||(b[0]=M=>V.value=M),placeholder:"è¾“å…¥ä¸»èœå•åç§°",class:"input",onKeyup:ke(C,["enter"])},null,544),[[I,V.value]]),e("button",{class:"btn btn-primary",onClick:C,disabled:u.value||!V.value.trim()}," + æ·»åŠ ä¸»èœå• ",8,Vt)])]),e("div",Bt,[d.value.length===0?(i(),r("div",Ut,[...b[9]||(b[9]=[e("p",null,"æš‚æ— èœå•ï¼Œè¯·æ·»åŠ ç¬¬ä¸€ä¸ªä¸»èœå•",-1)])])):N("",!0),(i(!0),r(q,null,J(d.value,M=>(i(),r("div",{key:M.id,class:"menu-card"},[e("div",Dt,[e("div",At,[e("span",Tt,k(M.name),1),e("span",It,"æ’åº: "+k(M.order),1)]),e("div",St,[e("button",{class:"btn-icon btn-edit",onClick:D=>w(M),title:"ç¼–è¾‘"},[...b[10]||(b[10]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})],-1)])],8,Lt),e("button",{class:"btn-icon btn-add",onClick:D=>Q(M),title:"æ·»åŠ å­èœå•"},[...b[11]||(b[11]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M12 5v14M5 12h14"})],-1)])],8,Wt),e("button",{class:"btn-icon btn-delete",onClick:D=>H(M),title:"åˆ é™¤"},[...b[12]||(b[12]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M3 6h18M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"})],-1)])],8,Nt)])]),M.subMenus&&M.subMenus.length>0?(i(),r("div",zt,[(i(!0),r(q,null,J(M.subMenus,D=>(i(),r("div",{key:D.id,class:"sub-menu-item"},[e("span",Et,k(D.name),1),e("span",Pt,"æ’åº: "+k(D.order),1),e("div",Ht,[e("button",{class:"btn-icon-sm btn-edit",onClick:c=>Y(M,D),title:"ç¼–è¾‘"},[...b[13]||(b[13]=[e("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})],-1)])],8,Ot),e("button",{class:"btn-icon-sm btn-delete",onClick:c=>F(D),title:"åˆ é™¤"},[...b[14]||(b[14]=[e("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M3 6h18M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"})],-1)])],8,Ft)])]))),128))])):(i(),r("div",Rt,[...b[15]||(b[15]=[e("span",null,"æš‚æ— å­èœå•",-1)])]))]))),128))]),L.value?(i(),r("div",jt,[e("div",qt,[e("div",Jt,[e("h3",null,k(T.value?"ç¼–è¾‘ä¸»èœå•":"æ·»åŠ å­èœå•"),1),e("button",{class:"modal-close",onClick:R},"Ã—")]),e("div",Gt,[e("div",Kt,[b[16]||(b[16]=e("label",null,"åç§°",-1)),x(e("input",{"onUpdate:modelValue":b[1]||(b[1]=M=>U.value.name=M),type:"text",class:"input",placeholder:"è¯·è¾“å…¥åç§°"},null,512),[[I,U.value.name]])]),e("div",Qt,[b[17]||(b[17]=e("label",null,"æ’åº",-1)),x(e("input",{"onUpdate:modelValue":b[2]||(b[2]=M=>U.value.order=M),type:"number",class:"input",placeholder:"æ•°å­—è¶Šå°è¶Šé å‰"},null,512),[[I,U.value.order,void 0,{number:!0}]])])]),e("div",Xt,[e("button",{class:"btn btn-cancel",onClick:R},"å–æ¶ˆ"),e("button",{class:"btn btn-primary",onClick:_,disabled:!U.value.name.trim()},"ä¿å­˜",8,Yt)])])])):N("",!0),n.value?(i(),r("div",Zt,[e("div",es,[e("div",ts,[e("h3",null,"æ·»åŠ å­èœå•åˆ°ã€Œ"+k(m.value)+"ã€",1),e("button",{class:"modal-close",onClick:R},"Ã—")]),e("div",ss,[e("div",ls,[b[18]||(b[18]=e("label",null,"å­èœå•åç§°",-1)),x(e("input",{"onUpdate:modelValue":b[3]||(b[3]=M=>v.value.name=M),type:"text",class:"input",placeholder:"è¯·è¾“å…¥å­èœå•åç§°"},null,512),[[I,v.value.name]])]),e("div",as,[b[19]||(b[19]=e("label",null,"æ’åº",-1)),x(e("input",{"onUpdate:modelValue":b[4]||(b[4]=M=>v.value.order=M),type:"number",class:"input",placeholder:"æ•°å­—è¶Šå°è¶Šé å‰"},null,512),[[I,v.value.order,void 0,{number:!0}]])])]),e("div",os,[e("button",{class:"btn btn-cancel",onClick:R},"å–æ¶ˆ"),e("button",{class:"btn btn-primary",onClick:X,disabled:!v.value.name.trim()},"æ·»åŠ ",8,ns)])])])):N("",!0),h.value?(i(),r("div",is,[e("div",ds,[e("div",{class:"modal-header"},[b[20]||(b[20]=e("h3",null,"ç¼–è¾‘å­èœå•",-1)),e("button",{class:"modal-close",onClick:R},"Ã—")]),e("div",rs,[e("div",us,[b[21]||(b[21]=e("label",null,"å­èœå•åç§°",-1)),x(e("input",{"onUpdate:modelValue":b[5]||(b[5]=M=>a.value.name=M),type:"text",class:"input",placeholder:"è¯·è¾“å…¥å­èœå•åç§°"},null,512),[[I,a.value.name]])]),e("div",cs,[b[22]||(b[22]=e("label",null,"æ’åº",-1)),x(e("input",{"onUpdate:modelValue":b[6]||(b[6]=M=>a.value.order=M),type:"number",class:"input",placeholder:"æ•°å­—è¶Šå°è¶Šé å‰"},null,512),[[I,a.value.order,void 0,{number:!0}]])])]),e("div",vs,[e("button",{class:"btn btn-cancel",onClick:R},"å–æ¶ˆ"),e("button",{class:"btn btn-primary",onClick:te,disabled:!a.value.name.trim()},"ä¿å­˜",8,ps)])])])):N("",!0)]))}},bs=ee(ms,[["__scopeId","data-v-7671c3a1"]]),gs={class:"card-manage"},fs={class:"card-header"},hs={class:"card-add"},ws=["value"],ks=["value"],ys={class:"card-card"},_s={class:"card-table"},$s=["onUpdate:modelValue","onBlur"],Cs=["onUpdate:modelValue","onBlur"],Ms=["onUpdate:modelValue","onBlur"],xs=["onUpdate:modelValue","onBlur"],Vs=["onClick"],Bs={key:0,class:"selected-tags"},Us={key:1,class:"tag-placeholder"},Ds=["onUpdate:modelValue","onBlur"],As=["onClick"],Ts={class:"modal-body"},Is={key:0,class:"empty-tags"},Ss={key:1,class:"tag-options"},Ls=["checked","onChange"],Ws={class:"modal-body"},Ns={class:"duplicate-comparison"},zs={class:"card-info-box existing"},Es={class:"card-details"},Ps={class:"detail-row"},Hs={class:"detail-value"},Os={class:"detail-row"},Fs={class:"detail-value url"},Rs={key:0,class:"detail-row"},js={class:"detail-value url"},qs={class:"card-info-box pending"},Js={class:"card-details"},Gs={class:"detail-row"},Ks={class:"detail-value"},Qs={class:"detail-row"},Xs={class:"detail-value url"},Ys={key:0,class:"detail-row"},Zs={class:"detail-value url"},el={__name:"CardManage",setup(z){const d=g([]),u=g([]),B=g(),V=g(""),L=g(""),T=g(""),U=g(""),n=g([]),p=g(!1),m=g(null),v=g([]),h=g(!1),y=g(null),a=g(null),o=ne(()=>{if(!B.value)return[];const c=d.value.find(s=>s.id===B.value);return(c==null?void 0:c.subMenus)||[]});le(()=>A(null,null,function*(){const c=yield De();d.value=c.data,d.value.length&&(B.value=d.value[0].id,V.value="");const s=yield Ae();n.value=s.data})),xe(B,()=>{V.value="",w()}),xe(V,w);function l(){V.value=""}function C(){w()}function w(){return A(this,null,function*(){if(!B.value)return;const c=yield Ze(B.value,V.value||null);u.value=c.data})}function _(){return A(this,null,function*(){if(!L.value||!T.value)return;const c=u.value.find(s=>Ye({title:L.value,url:T.value},s));c?(y.value=c,a.value={menu_id:B.value,sub_menu_id:V.value||null,title:L.value,url:T.value,logo_url:U.value},h.value=!0):yield R({menu_id:B.value,sub_menu_id:V.value||null,title:L.value,url:T.value,logo_url:U.value})})}function H(c){return A(this,null,function*(){yield Ve(c.id,{menu_id:B.value,sub_menu_id:V.value||null,title:c.title,url:c.url,logo_url:c.logo_url,desc:c.desc,order:c.order,tagIds:c.tags?c.tags.map(s=>s.id):[]}),w()})}function Q(c){return A(this,null,function*(){if(!confirm("ç¡®å®šè¦åˆ é™¤è¿™å¼ å¡ç‰‡å—ï¼Ÿ"))return;const s=u.value.findIndex(se=>se.id===c);s>-1&&u.value.splice(s,1);try{yield Be(c)}catch(se){console.error("åˆ é™¤å¡ç‰‡å¤±è´¥:",se),yield w()}})}function X(c){m.value=c,v.value=c.tags?c.tags.map(s=>s.id):[],p.value=!0}function Y(){p.value=!1,m.value=null,v.value=[]}function te(c){const s=v.value.indexOf(c);s>-1?v.value.splice(s,1):v.value.push(c)}function F(){return A(this,null,function*(){m.value&&(yield Ve(m.value.id,{menu_id:m.value.menu_id,sub_menu_id:m.value.sub_menu_id,title:m.value.title,url:m.value.url,logo_url:m.value.logo_url,desc:m.value.desc,order:m.value.order,tagIds:v.value}),Y(),w())})}function R(c){return A(this,null,function*(){yield et(c),L.value="",T.value="",U.value="",w()})}function W(){h.value=!1,y.value=null,a.value=null}function b(){W(),L.value="",T.value="",U.value=""}function M(){return A(this,null,function*(){!a.value||!y.value||(yield Be(y.value.id),yield R(a.value),W())})}function D(){a.value&&(L.value=a.value.title,T.value=a.value.url,U.value=a.value.logo_url||"",W(),alert("è¯·ä¿®æ”¹å¡ç‰‡ä¿¡æ¯åå†æ¬¡ç‚¹å‡»â€œæ·»åŠ å¡ç‰‡â€æŒ‰é’®"))}return(c,s)=>{var se,de,re,ue,K,ce,ve,Z;return i(),r("div",gs,[e("div",fs,[s[9]||(s[9]=e("div",{class:"header-content"},[e("h2",{class:"page-title"},"ç®¡ç†ç½‘ç«™å¯¼èˆªå¡ç‰‡ï¼Œæ”¯æŒä¸»èœå•å’Œå­èœå•åˆ†ç±»")],-1)),e("div",hs,[x(e("select",{"onUpdate:modelValue":s[0]||(s[0]=S=>B.value=S),class:"input narrow",onChange:l},[(i(!0),r(q,null,J(d.value,S=>(i(),r("option",{value:S.id,key:S.id},k(S.name),9,ws))),128))],544),[[ye,B.value]]),x(e("select",{"onUpdate:modelValue":s[1]||(s[1]=S=>V.value=S),class:"input narrow",onChange:C},[s[7]||(s[7]=e("option",{value:""},"ä¸»èœå•",-1)),(i(!0),r(q,null,J(o.value,S=>(i(),r("option",{value:S.id,key:S.id},k(S.name),9,ks))),128))],544),[[ye,V.value]]),x(e("input",{"onUpdate:modelValue":s[2]||(s[2]=S=>L.value=S),placeholder:"å¡ç‰‡æ ‡é¢˜",class:"input narrow"},null,512),[[I,L.value]]),x(e("input",{"onUpdate:modelValue":s[3]||(s[3]=S=>T.value=S),placeholder:"å¡ç‰‡é“¾æ¥",class:"input wide"},null,512),[[I,T.value]]),x(e("input",{"onUpdate:modelValue":s[4]||(s[4]=S=>U.value=S),placeholder:"logoé“¾æ¥(å¯é€‰)",class:"input wide"},null,512),[[I,U.value]]),e("button",{class:"btn",onClick:_},[...s[8]||(s[8]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M12 5v14M5 12h14"})],-1),P(" æ·»åŠ å¡ç‰‡ ",-1)])])])]),e("div",ys,[e("table",_s,[s[11]||(s[11]=e("thead",null,[e("tr",null,[e("th",null,"æ ‡é¢˜"),e("th",null,"ç½‘å€"),e("th",null,"Logoé“¾æ¥"),e("th",null,"æè¿°"),e("th",null,"æ ‡ç­¾"),e("th",null,"æ’åº"),e("th",null,"æ“ä½œ")])],-1)),e("tbody",null,[(i(!0),r(q,null,J(u.value,S=>(i(),r("tr",{key:S.id},[e("td",null,[x(e("input",{"onUpdate:modelValue":E=>S.title=E,onBlur:E=>H(S),class:"table-input"},null,40,$s),[[I,S.title]])]),e("td",null,[x(e("input",{"onUpdate:modelValue":E=>S.url=E,onBlur:E=>H(S),class:"table-input"},null,40,Cs),[[I,S.url]])]),e("td",null,[x(e("input",{"onUpdate:modelValue":E=>S.logo_url=E,onBlur:E=>H(S),class:"table-input",placeholder:"logoé“¾æ¥(å¯é€‰)"},null,40,Ms),[[I,S.logo_url]])]),e("td",null,[x(e("input",{"onUpdate:modelValue":E=>S.desc=E,onBlur:E=>H(S),class:"table-input",placeholder:"æè¿°ï¼ˆå¯é€‰ï¼‰"},null,40,xs),[[I,S.desc]])]),e("td",null,[e("div",{class:"tag-selector",onClick:E=>X(S)},[S.tags&&S.tags.length>0?(i(),r("div",Bs,[(i(!0),r(q,null,J(S.tags,E=>(i(),r("span",{key:E.id,class:"mini-tag",style:_e({backgroundColor:E.color})},k(E.name),5))),128))])):(i(),r("span",Us,"é€‰æ‹©æ ‡ç­¾"))],8,Vs)]),e("td",null,[x(e("input",{"onUpdate:modelValue":E=>S.order=E,type:"number",onBlur:E=>H(S),class:"table-input order-input"},null,40,Ds),[[I,S.order,void 0,{number:!0}]])]),e("td",null,[e("button",{class:"btn btn-danger btn-icon",onClick:E=>Q(S.id),title:"åˆ é™¤"},[...s[10]||(s[10]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M3 6h18M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"}),e("path",{d:"M10 11v6M14 11v6"})],-1)])],8,As)])]))),128))])])]),p.value?(i(),r("div",{key:0,class:"modal-overlay",onClick:Y},[e("div",{class:"modal-content",onClick:s[5]||(s[5]=$e(()=>{},["stop"]))},[e("div",{class:"modal-header"},[s[12]||(s[12]=e("h3",null,"é€‰æ‹©æ ‡ç­¾",-1)),e("button",{class:"close-btn",onClick:Y},"Ã—")]),e("div",Ts,[n.value.length===0?(i(),r("div",Is,[...s[13]||(s[13]=[e("p",null,"æš‚æ— æ ‡ç­¾ï¼Œè¯·å…ˆåœ¨æ ‡ç­¾ç®¡ç†é¡µé¢åˆ›å»º",-1)])])):(i(),r("div",Ss,[(i(!0),r(q,null,J(n.value,S=>(i(),r("label",{key:S.id,class:"tag-option"},[e("input",{type:"checkbox",checked:v.value.includes(S.id),onChange:E=>te(S.id)},null,40,Ls),e("span",{class:"tag-label",style:_e({backgroundColor:S.color})},k(S.name),5)]))),128))]))]),e("div",{class:"modal-footer"},[e("button",{class:"btn btn-secondary",onClick:Y},"å–æ¶ˆ"),e("button",{class:"btn btn-primary",onClick:F},"ç¡®å®š")])])])):N("",!0),h.value?(i(),r("div",{key:1,class:"modal-overlay",onClick:W},[e("div",{class:"modal-content duplicate-modal",onClick:s[6]||(s[6]=$e(()=>{},["stop"]))},[e("div",{class:"modal-header"},[s[14]||(s[14]=ie('<div class="header-with-icon" data-v-edd548d5><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#dc2626" stroke-width="2" data-v-edd548d5><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z" data-v-edd548d5></path><line x1="12" y1="9" x2="12" y2="13" data-v-edd548d5></line><line x1="12" y1="17" x2="12.01" y2="17" data-v-edd548d5></line></svg><h3 data-v-edd548d5>æ£€æµ‹åˆ°é‡å¤å¡ç‰‡</h3></div>',1)),e("button",{class:"close-btn",onClick:W},"Ã—")]),e("div",Ws,[s[24]||(s[24]=e("div",{class:"duplicate-warning"},[e("p",{class:"warning-text"},"æ‚¨è¦æ·»åŠ çš„å¡ç‰‡ä¸ä»¥ä¸‹ç°æœ‰å¡ç‰‡é‡å¤ï¼š")],-1)),e("div",Ns,[e("div",zs,[s[18]||(s[18]=e("div",{class:"box-header"},[e("span",{class:"box-label"},"ç°æœ‰å¡ç‰‡")],-1)),e("div",Es,[e("div",Ps,[s[15]||(s[15]=e("span",{class:"detail-label"},"æ ‡é¢˜ï¼š",-1)),e("span",Hs,k((se=y.value)==null?void 0:se.title),1)]),e("div",Os,[s[16]||(s[16]=e("span",{class:"detail-label"},"ç½‘å€ï¼š",-1)),e("span",Fs,k((de=y.value)==null?void 0:de.url),1)]),(re=y.value)!=null&&re.logo_url?(i(),r("div",Rs,[s[17]||(s[17]=e("span",{class:"detail-label"},"Logoï¼š",-1)),e("span",js,k((ue=y.value)==null?void 0:ue.logo_url),1)])):N("",!0)])]),s[23]||(s[23]=e("div",{class:"arrow-divider"},[e("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"#9ca3af","stroke-width":"2"},[e("path",{d:"M5 12h14M12 5l7 7-7 7"})])],-1)),e("div",qs,[s[22]||(s[22]=e("div",{class:"box-header"},[e("span",{class:"box-label"},"å¾…æ·»åŠ å¡ç‰‡")],-1)),e("div",Js,[e("div",Gs,[s[19]||(s[19]=e("span",{class:"detail-label"},"æ ‡é¢˜ï¼š",-1)),e("span",Ks,k((K=a.value)==null?void 0:K.title),1)]),e("div",Qs,[s[20]||(s[20]=e("span",{class:"detail-label"},"ç½‘å€ï¼š",-1)),e("span",Xs,k((ce=a.value)==null?void 0:ce.url),1)]),(ve=a.value)!=null&&ve.logo_url?(i(),r("div",Ys,[s[21]||(s[21]=e("span",{class:"detail-label"},"Logoï¼š",-1)),e("span",Zs,k((Z=a.value)==null?void 0:Z.logo_url),1)])):N("",!0)])])]),s[25]||(s[25]=e("div",{class:"duplicate-actions-info"},[e("p",null,"è¯·é€‰æ‹©å¦‚ä½•å¤„ç†ï¼š")],-1))]),e("div",{class:"modal-footer duplicate-footer"},[e("button",{class:"btn btn-secondary",onClick:b},[...s[26]||(s[26]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M18 6L6 18M6 6l12 12"})],-1),P(" è·³è¿‡ ",-1)])]),e("button",{class:"btn btn-warning",onClick:M},[...s[27]||(s[27]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M21 12a9 9 0 11-9-9c2.52 0 4.93 1 6.74 2.74L21 8"}),e("path",{d:"M21 3v5h-5"})],-1),P(" æ›¿æ¢ ",-1)])]),e("button",{class:"btn btn-primary",onClick:D},[...s[28]||(s[28]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})],-1),P(" ç¼–è¾‘åæ·»åŠ  ",-1)])])])])])):N("",!0)])}}},tl=ee(el,[["__scopeId","data-v-edd548d5"]]),sl={class:"duplicate-manage"},ll={class:"section-header"},al=["disabled"],ol={key:0,class:"duplicate-results"},nl={class:"result-summary"},il={class:"summary-card"},dl={class:"summary-value"},rl={class:"summary-card warning"},ul={class:"summary-value"},cl={class:"summary-card danger"},vl={class:"summary-value"},pl={class:"duplicate-groups"},ml={class:"group-header"},bl={class:"group-count"},gl={class:"card-item original"},fl={class:"card-info"},hl={class:"card-title"},wl={class:"card-url"},kl={key:0,class:"card-desc"},yl={class:"card-id"},_l={class:"duplicates-list"},$l={class:"card-info"},Cl={class:"card-title"},Ml={class:"card-url"},xl={key:0,class:"card-desc"},Vl={class:"card-actions"},Bl={class:"card-id"},Ul=["onClick","disabled"],Dl={class:"group-actions"},Al=["onClick","disabled"],Tl={class:"global-actions"},Il=["disabled"],Sl={key:1,class:"no-duplicates"},Ll={key:2,class:"initial-hint"},Wl={key:3,class:"error"},Nl={__name:"DuplicateManage",setup(z){const d=g(!1),u=g(!1),B=g(!1),V=g([]),L=g(0),T=g(0),U=g("");function n(){return A(this,null,function*(){var h,y;d.value=!0,U.value="";try{const a=yield tt();L.value=a.data.total,V.value=a.data.duplicateGroups,T.value=a.data.duplicateCount,B.value=!0}catch(a){U.value=((y=(h=a.response)==null?void 0:h.data)==null?void 0:y.error)||"æ£€æµ‹å¤±è´¥",console.error("æ£€æµ‹é‡å¤å¤±è´¥:",a)}finally{d.value=!1}})}function p(h){return A(this,null,function*(){var y,a,o;if(confirm("ç¡®å®šè¦åˆ é™¤è¿™å¼ å¡ç‰‡å—ï¼Ÿ")){u.value=!0,U.value="";try{console.log("[å»é‡ç®¡ç†] åˆ é™¤å•ä¸ªå¡ç‰‡:",h);const l=yield we([h]);console.log("[å»é‡ç®¡ç†] åˆ é™¤å“åº”:",l.data),l.data.success?(console.log("[å»é‡ç®¡ç†] åˆ é™¤æˆåŠŸï¼Œé‡æ–°æ£€æµ‹..."),yield n()):U.value="åˆ é™¤å¤±è´¥ï¼š"+(l.data.message||"æœªçŸ¥é”™è¯¯")}catch(l){console.error("[å»é‡ç®¡ç†] åˆ é™¤å¡ç‰‡å¤±è´¥:",l),console.error("[å»é‡ç®¡ç†] é”™è¯¯è¯¦æƒ…:",(y=l.response)==null?void 0:y.data),U.value=((o=(a=l.response)==null?void 0:a.data)==null?void 0:o.error)||l.message||"åˆ é™¤å¤±è´¥"}finally{u.value=!1}}})}function m(h){return A(this,null,function*(){var a,o,l;const y=h.duplicates.length;if(confirm(`ç¡®å®šè¦åˆ é™¤è¿™ ${y} å¼ é‡å¤å¡ç‰‡å—ï¼Ÿ

å°†ä¿ç•™ï¼š${h.original.title}`)){u.value=!0,U.value="";try{const C=h.duplicates.map(_=>_.id);console.log("[å»é‡ç®¡ç†] åˆ é™¤ä¸€ç»„é‡å¤å¡ç‰‡:",C);const w=yield we(C);console.log("[å»é‡ç®¡ç†] åˆ é™¤å“åº”:",w.data),w.data.success?(console.log("[å»é‡ç®¡ç†] åˆ é™¤æˆåŠŸï¼Œé‡æ–°æ£€æµ‹..."),yield n()):U.value="åˆ é™¤å¤±è´¥ï¼š"+(w.data.message||"æœªçŸ¥é”™è¯¯")}catch(C){console.error("[å»é‡ç®¡ç†] åˆ é™¤é‡å¤å¡ç‰‡å¤±è´¥:",C),console.error("[å»é‡ç®¡ç†] é”™è¯¯è¯¦æƒ…:",(a=C.response)==null?void 0:a.data),U.value=((l=(o=C.response)==null?void 0:o.data)==null?void 0:l.error)||C.message||"åˆ é™¤å¤±è´¥"}finally{u.value=!1}}})}function v(){return A(this,null,function*(){var y,a,o;const h=T.value;if(confirm(`ç¡®å®šè¦åˆ é™¤æ‰€æœ‰ ${h} å¼ é‡å¤å¡ç‰‡å—ï¼Ÿ

æ­¤æ“ä½œä¸å¯æ’¤é”€ï¼`)){u.value=!0,U.value="";try{const l=V.value.flatMap(w=>w.duplicates.map(_=>_.id));console.log("[å»é‡ç®¡ç†] åˆ é™¤æ‰€æœ‰é‡å¤å¡ç‰‡:",l);const C=yield we(l);console.log("[å»é‡ç®¡ç†] åˆ é™¤å“åº”:",C.data),C.data.success?(console.log("[å»é‡ç®¡ç†] åˆ é™¤æˆåŠŸï¼Œé‡æ–°æ£€æµ‹..."),yield n()):U.value="åˆ é™¤å¤±è´¥ï¼š"+(C.data.message||"æœªçŸ¥é”™è¯¯")}catch(l){console.error("[å»é‡ç®¡ç†] åˆ é™¤æ‰€æœ‰é‡å¤å¤±è´¥:",l),console.error("[å»é‡ç®¡ç†] é”™è¯¯è¯¦æƒ…:",(y=l.response)==null?void 0:y.data),U.value=((o=(a=l.response)==null?void 0:a.data)==null?void 0:o.error)||l.message||"åˆ é™¤å¤±è´¥"}finally{u.value=!1}}})}return(h,y)=>(i(),r("div",sl,[e("div",ll,[y[0]||(y[0]=e("h3",null,"å¡ç‰‡å»é‡ç®¡ç†",-1)),e("button",{onClick:n,class:"btn btn-primary",disabled:d.value},k(d.value?"æ£€æµ‹ä¸­...":"ğŸ” ä¸€é”®æ£€æµ‹é‡å¤"),9,al)]),V.value.length>0?(i(),r("div",ol,[e("div",nl,[e("div",il,[y[1]||(y[1]=e("div",{class:"summary-label"},"æ€»å¡ç‰‡æ•°",-1)),e("div",dl,k(L.value),1)]),e("div",rl,[y[2]||(y[2]=e("div",{class:"summary-label"},"é‡å¤ç»„æ•°",-1)),e("div",ul,k(V.value.length),1)]),e("div",cl,[y[3]||(y[3]=e("div",{class:"summary-label"},"é‡å¤å¡ç‰‡",-1)),e("div",vl,k(T.value),1)])]),e("div",pl,[(i(!0),r(q,null,J(V.value,(a,o)=>(i(),r("div",{key:o,class:"duplicate-group"},[e("div",ml,[e("h4",null,"é‡å¤ç»„ "+k(o+1),1),e("span",bl,k(a.totalCount)+" å¼ å¡ç‰‡",1)]),e("div",gl,[y[4]||(y[4]=e("div",{class:"card-badge"},"ä¿ç•™",-1)),e("div",fl,[e("div",hl,k(a.original.title),1),e("div",wl,k(a.original.url),1),a.original.desc?(i(),r("div",kl,k(a.original.desc),1)):N("",!0)]),e("div",yl,"ID: "+k(a.original.id),1)]),e("div",_l,[(i(!0),r(q,null,J(a.duplicates,l=>(i(),r("div",{key:l.id,class:"card-item duplicate"},[y[5]||(y[5]=e("div",{class:"card-badge danger"},"é‡å¤",-1)),e("div",$l,[e("div",Cl,k(l.title),1),e("div",Ml,k(l.url),1),l.desc?(i(),r("div",xl,k(l.desc),1)):N("",!0)]),e("div",Vl,[e("span",Bl,"ID: "+k(l.id),1),e("button",{onClick:C=>p(l.id),class:"btn-remove",disabled:u.value,title:"åˆ é™¤æ­¤å¡ç‰‡"}," åˆ é™¤ ",8,Ul)])]))),128))]),e("div",Dl,[e("button",{onClick:l=>m(a),class:"btn btn-danger",disabled:u.value}," åˆ é™¤æ­¤ç»„æ‰€æœ‰é‡å¤å¡ç‰‡ ("+k(a.duplicates.length)+" å¼ ) ",9,Al)])]))),128))]),e("div",Tl,[e("button",{onClick:v,class:"btn btn-danger btn-large",disabled:u.value},k(u.value?"åˆ é™¤ä¸­...":`åˆ é™¤æ‰€æœ‰é‡å¤å¡ç‰‡ (${T.value} å¼ )`),9,Il)])])):B.value&&V.value.length===0?(i(),r("div",Sl,[...y[6]||(y[6]=[e("svg",{width:"80",height:"80",viewBox:"0 0 24 24",fill:"none",stroke:"#1abc9c","stroke-width":"2"},[e("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e("polyline",{points:"22 4 12 14.01 9 11.01"})],-1),e("h3",null,"å¤ªæ£’äº†ï¼æ²¡æœ‰å‘ç°é‡å¤å¡ç‰‡",-1),e("p",null,"æ‚¨çš„å¯¼èˆªå¡ç‰‡éƒ½æ˜¯å”¯ä¸€çš„",-1)])])):B.value?N("",!0):(i(),r("div",Ll,[...y[7]||(y[7]=[ie('<svg width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="#666" stroke-width="2" data-v-62bbc778><circle cx="12" cy="12" r="10" data-v-62bbc778></circle><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3" data-v-62bbc778></path><line x1="12" y1="17" x2="12.01" y2="17" data-v-62bbc778></line></svg><h3 data-v-62bbc778>ç‚¹å‡»&quot;ä¸€é”®æ£€æµ‹é‡å¤&quot;å¼€å§‹æ‰«æ</h3><p data-v-62bbc778>ç³»ç»Ÿå°†æ£€æµ‹æ‰€æœ‰é‡å¤çš„å¯¼èˆªå¡ç‰‡</p><ul class="hint-list" data-v-62bbc778><li data-v-62bbc778>ğŸ“Œ URL ç›¸åŒçš„å¡ç‰‡</li><li data-v-62bbc778>ğŸ“Œ æ ‡é¢˜ç›¸åŒä¸”åŸŸåç›¸åŒçš„å¡ç‰‡</li></ul>',4)])])),U.value?(i(),r("p",Wl,k(U.value),1)):N("",!0)]))}},zl=ee(Nl,[["__scopeId","data-v-62bbc778"]]),El={class:"tag-manage"},Pl={class:"tag-header"},Hl={class:"tag-add"},Ol={class:"tag-content"},Fl={key:0,class:"empty-state"},Rl={key:1,class:"tag-list"},jl={class:"tag-info"},ql=["onUpdate:modelValue","onBlur"],Jl={class:"tag-stats"},Gl={class:"card-count"},Kl={class:"tag-controls"},Ql=["onUpdate:modelValue","onChange"],Xl={class:"tag-order"},Yl=["onUpdate:modelValue","onBlur"],Zl={class:"tag-actions"},ea=["onClick"],ta={__name:"TagManage",setup(z){const d=g([]),u=g(""),B=g("#2566d8");le(V);function V(){return A(this,null,function*(){const n=yield Ae();d.value=n.data;for(const p of d.value)try{const m=yield st(p.id);p.cardCount=m.data.count}catch(m){p.cardCount=0}})}function L(){return A(this,null,function*(){var h,y;if(!u.value.trim())return;const n=d.value.length?Math.max(...d.value.map(a=>a.order||0)):0,p=u.value.trim(),m=B.value,v={id:Date.now(),name:p,color:m,order:n+1,cardCount:0,_temp:!0};d.value.push(v),u.value="",B.value="#2566d8";try{const a=yield lt({name:p,color:m,order:n+1}),o=d.value.findIndex(l=>l.id===v.id);o>-1&&(d.value[o]=fe(me({},a.data),{cardCount:0}))}catch(a){const o=d.value.findIndex(l=>l.id===v.id);o>-1&&d.value.splice(o,1),alert("æ·»åŠ æ ‡ç­¾å¤±è´¥ï¼š"+(((y=(h=a.response)==null?void 0:h.data)==null?void 0:y.error)||a.message))}})}function T(n){return A(this,null,function*(){var p,m;if(!n._temp)try{yield at(n.id,{name:n.name,color:n.color,order:n.order})}catch(v){alert("æ›´æ–°æ ‡ç­¾å¤±è´¥ï¼š"+(((m=(p=v.response)==null?void 0:p.data)==null?void 0:m.error)||v.message)),V()}})}function U(n){return A(this,null,function*(){var h,y;const p=d.value.find(a=>a.id===n);if(!p)return;const m=p.cardCount>0?`ç¡®å®šè¦åˆ é™¤æ ‡ç­¾"${p.name}"å—ï¼Ÿè¿™å°†å–æ¶ˆ ${p.cardCount} å¼ å¡ç‰‡çš„å…³è”ã€‚`:`ç¡®å®šè¦åˆ é™¤æ ‡ç­¾"${p.name}"å—ï¼Ÿ`;if(!confirm(m))return;const v=d.value.findIndex(a=>a.id===n);v>-1&&d.value.splice(v,1);try{yield ot(n)}catch(a){alert("åˆ é™¤æ ‡ç­¾å¤±è´¥ï¼š"+(((y=(h=a.response)==null?void 0:h.data)==null?void 0:y.error)||a.message)),V()}})}return(n,p)=>(i(),r("div",El,[e("div",Pl,[p[3]||(p[3]=e("div",{class:"header-content"},[e("h2",{class:"page-title"},"ç®¡ç†æ ‡ç­¾"),e("p",{class:"page-desc"},"ä¸ºå¡ç‰‡åˆ›å»ºå¤šç»´åº¦åˆ†ç±»æ ‡ç­¾")],-1)),e("div",Hl,[x(e("input",{"onUpdate:modelValue":p[0]||(p[0]=m=>u.value=m),placeholder:"æ ‡ç­¾åç§°",class:"input",maxlength:"20"},null,512),[[I,u.value]]),x(e("input",{"onUpdate:modelValue":p[1]||(p[1]=m=>B.value=m),type:"color",class:"color-input",title:"é€‰æ‹©æ ‡ç­¾é¢œè‰²"},null,512),[[I,B.value]]),e("button",{class:"btn btn-primary",onClick:L},[...p[2]||(p[2]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M12 5v14M5 12h14"})],-1),P(" æ·»åŠ æ ‡ç­¾ ",-1)])])])]),e("div",Ol,[d.value.length===0?(i(),r("div",Fl,[...p[4]||(p[4]=[e("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1"},[e("path",{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"}),e("line",{x1:"7",y1:"7",x2:"7.01",y2:"7"})],-1),e("p",null,"æš‚æ— æ ‡ç­¾",-1),e("p",{class:"hint"},"åˆ›å»ºç¬¬ä¸€ä¸ªæ ‡ç­¾ï¼Œå¼€å§‹ä¸ºå¡ç‰‡æ·»åŠ å¤šç»´åº¦åˆ†ç±»",-1)])])):(i(),r("div",Rl,[(i(!0),r(q,null,J(d.value,m=>(i(),r("div",{key:m.id,class:"tag-item"},[e("div",{class:"tag-preview",style:_e({backgroundColor:m.color})},[...p[5]||(p[5]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"}),e("line",{x1:"7",y1:"7",x2:"7.01",y2:"7"})],-1)])],4),e("div",jl,[x(e("input",{"onUpdate:modelValue":v=>m.name=v,onBlur:v=>T(m),class:"tag-name-input",maxlength:"20"},null,40,ql),[[I,m.name]]),e("div",Jl,[e("span",Gl,k(m.cardCount||0)+" å¼ å¡ç‰‡",1)])]),e("div",Kl,[x(e("input",{"onUpdate:modelValue":v=>m.color=v,type:"color",onChange:v=>T(m),class:"color-picker",title:"æ›´æ”¹é¢œè‰²"},null,40,Ql),[[I,m.color]]),e("div",Xl,[p[6]||(p[6]=e("span",{class:"order-label"},"æ’åº",-1)),x(e("input",{"onUpdate:modelValue":v=>m.order=v,type:"number",onBlur:v=>T(m),class:"order-input"},null,40,Yl),[[I,m.order,void 0,{number:!0}]])])]),e("div",Zl,[e("button",{class:"btn btn-danger btn-icon",onClick:v=>U(m.id),title:"åˆ é™¤æ ‡ç­¾"},[...p[7]||(p[7]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M3 6h18M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"}),e("path",{d:"M10 11v6M14 11v6"})],-1)])],8,ea)])]))),128))]))])]))}},sa=ee(ta,[["__scopeId","data-v-56efcb56"]]),la={class:"promo-manage"},aa={key:0,class:"loading-overlay"},oa={class:"promo-header"},na={class:"promo-form"},ia=["disabled"],da={class:"promo-section"},ra={class:"promo-list"},ua={key:0,class:"empty-state"},ca={class:"promo-preview"},va=["src"],pa={class:"promo-info"},ma={class:"promo-field"},ba=["onUpdate:modelValue","onBlur"],ga={class:"promo-field"},fa=["onUpdate:modelValue","onBlur"],ha={class:"promo-actions"},wa=["onClick"],ka={class:"promo-section"},ya={class:"promo-list"},_a={key:0,class:"empty-state"},$a={class:"promo-preview"},Ca=["src"],Ma={class:"promo-info"},xa={class:"promo-field"},Va=["onUpdate:modelValue","onBlur"],Ba={class:"promo-field"},Ua=["onUpdate:modelValue","onBlur"],Da={class:"promo-actions"},Aa=["onClick"],ge="/api",Ta={__name:"PromoManage",setup(z){const d=()=>localStorage.getItem("token")||"",u=()=>({Authorization:`Bearer ${d()}`}),B=g([]),V=g(!1),L=g("åŠ è½½ä¸­..."),T=g({img:"",url:"",position:"left"}),U=ne(()=>B.value.filter(a=>a.position==="left")),n=ne(()=>B.value.filter(a=>a.position==="right"));le(()=>{p()});function p(){return A(this,null,function*(){var a,o;V.value=!0,L.value="åŠ è½½ä¸­...";try{const l=yield be.get(`${ge}/promos`);let C=[];Array.isArray(l.data)?C=l.data:l.data&&Array.isArray(l.data.data)&&(C=l.data.data),B.value=C}catch(l){console.error("åŠ è½½å®£ä¼ å¤±è´¥:",l),alert("åŠ è½½å®£ä¼ å¤±è´¥: "+(((o=(a=l.response)==null?void 0:a.data)==null?void 0:o.error)||l.message))}finally{V.value=!1}})}function m(){return A(this,null,function*(){var a,o;if(!T.value.img||!T.value.url){alert("è¯·å¡«å†™å®£ä¼ å›¾ç‰‡é“¾æ¥å’Œè·³è½¬é“¾æ¥");return}V.value=!0,L.value="æ·»åŠ ä¸­...";try{yield be.post(`${ge}/promos`,T.value,{headers:u()}),T.value={img:"",url:"",position:"left"},yield p()}catch(l){alert("æ·»åŠ å¤±è´¥: "+(((o=(a=l.response)==null?void 0:a.data)==null?void 0:o.error)||l.message)),V.value=!1}})}function v(a){return A(this,null,function*(){var o,l;try{yield be.put(`${ge}/promos/${a.id}`,{img:a.img,url:a.url},{headers:u()})}catch(C){alert("æ›´æ–°å¤±è´¥: "+(((l=(o=C.response)==null?void 0:o.data)==null?void 0:l.error)||C.message)),yield p()}})}function h(a){return A(this,null,function*(){var o,l;if(confirm("ç¡®å®šåˆ é™¤è¿™ä¸ªå®£ä¼ å—ï¼Ÿ")){V.value=!0,L.value="åˆ é™¤ä¸­...";try{yield be.delete(`${ge}/promos/${a.id}`,{headers:u()}),yield p()}catch(C){alert("åˆ é™¤å¤±è´¥: "+(((l=(o=C.response)==null?void 0:o.data)==null?void 0:l.error)||C.message)),V.value=!1}}})}function y(a){a.target.src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="60"><rect fill="%23f0f0f0" width="100" height="60"/><text x="50" y="35" text-anchor="middle" fill="%23999" font-size="12">å›¾ç‰‡åŠ è½½å¤±è´¥</text></svg>'}return(a,o)=>(i(),r("div",la,[V.value?(i(),r("div",aa,[o[3]||(o[3]=e("div",{class:"loading-spinner"},null,-1)),e("span",null,k(L.value),1)])):N("",!0),e("div",oa,[o[5]||(o[5]=e("h2",{class:"page-title"},"å®£ä¼ ç®¡ç†",-1)),e("div",na,[x(e("input",{"onUpdate:modelValue":o[0]||(o[0]=l=>T.value.img=l),placeholder:"å®£ä¼ å›¾ç‰‡é“¾æ¥",class:"input"},null,512),[[I,T.value.img]]),x(e("input",{"onUpdate:modelValue":o[1]||(o[1]=l=>T.value.url=l),placeholder:"å®£ä¼ è·³è½¬é“¾æ¥",class:"input"},null,512),[[I,T.value.url]]),x(e("select",{"onUpdate:modelValue":o[2]||(o[2]=l=>T.value.position=l),class:"input select"},[...o[4]||(o[4]=[e("option",{value:"left"},"å·¦ä¾§å®£ä¼ ",-1),e("option",{value:"right"},"å³ä¾§å®£ä¼ ",-1)])],512),[[ye,T.value.position]]),e("button",{class:"btn btn-primary",onClick:m,disabled:!T.value.img||!T.value.url}," + æ·»åŠ å®£ä¼  ",8,ia)])]),e("div",da,[o[8]||(o[8]=e("h3",{class:"section-title"},"ğŸ“ å·¦ä¾§å®£ä¼ ",-1)),e("div",ra,[U.value.length===0?(i(),r("div",ua,"æš‚æ— å·¦ä¾§å®£ä¼ ")):N("",!0),(i(!0),r(q,null,J(U.value,l=>(i(),r("div",{key:l.id,class:"promo-card"},[e("div",ca,[e("img",{src:l.img,alt:"å®£ä¼ å›¾ç‰‡",onError:y},null,40,va)]),e("div",pa,[e("div",ma,[o[6]||(o[6]=e("label",null,"å›¾ç‰‡é“¾æ¥",-1)),x(e("input",{"onUpdate:modelValue":C=>l.img=C,class:"input",onBlur:C=>v(l)},null,40,ba),[[I,l.img]])]),e("div",ga,[o[7]||(o[7]=e("label",null,"è·³è½¬é“¾æ¥",-1)),x(e("input",{"onUpdate:modelValue":C=>l.url=C,class:"input",onBlur:C=>v(l)},null,40,fa),[[I,l.url]])])]),e("div",ha,[e("button",{class:"btn btn-danger",onClick:C=>h(l)},"åˆ é™¤",8,wa)])]))),128))])]),e("div",ka,[o[11]||(o[11]=e("h3",{class:"section-title"},"ğŸ“ å³ä¾§å®£ä¼ ",-1)),e("div",ya,[n.value.length===0?(i(),r("div",_a,"æš‚æ— å³ä¾§å®£ä¼ ")):N("",!0),(i(!0),r(q,null,J(n.value,l=>(i(),r("div",{key:l.id,class:"promo-card"},[e("div",$a,[e("img",{src:l.img,alt:"å®£ä¼ å›¾ç‰‡",onError:y},null,40,Ca)]),e("div",Ma,[e("div",xa,[o[9]||(o[9]=e("label",null,"å›¾ç‰‡é“¾æ¥",-1)),x(e("input",{"onUpdate:modelValue":C=>l.img=C,class:"input",onBlur:C=>v(l)},null,40,Va),[[I,l.img]])]),e("div",Ba,[o[10]||(o[10]=e("label",null,"è·³è½¬é“¾æ¥",-1)),x(e("input",{"onUpdate:modelValue":C=>l.url=C,class:"input",onBlur:C=>v(l)},null,40,Ua),[[I,l.url]])])]),e("div",Da,[e("button",{class:"btn btn-danger",onClick:C=>h(l)},"åˆ é™¤",8,Aa)])]))),128))])])]))}},Ia=ee(Ta,[["__scopeId","data-v-0221fbc3"]]),Sa={class:"friend-manage"},La={class:"friend-add"},Wa={class:"friend-card"},Na={class:"friend-table"},za=["onUpdate:modelValue","onBlur"],Ea=["onUpdate:modelValue","onBlur"],Pa=["onUpdate:modelValue","onBlur"],Ha=["onClick"],Oa={__name:"FriendLinkManage",setup(z){const d=g([]),u=g(""),B=g(""),V=g("");le(L);function L(){return A(this,null,function*(){const p=yield nt();d.value=p.data})}function T(){return A(this,null,function*(){!u.value||!B.value||(yield it({title:u.value,url:B.value,logo:V.value}),u.value="",B.value="",V.value="",L())})}function U(p){return A(this,null,function*(){yield dt(p.id,{title:p.title,url:p.url,logo:p.logo}),L()})}function n(p){return A(this,null,function*(){if(!confirm("ç¡®å®šè¦åˆ é™¤è¿™ä¸ªå‹é“¾å—ï¼Ÿ"))return;const m=d.value.findIndex(v=>v.id===p);m>-1&&d.value.splice(m,1);try{yield rt(p)}catch(v){console.error("åˆ é™¤å‹é“¾å¤±è´¥:",v),yield L()}})}return(p,m)=>(i(),r("div",Sa,[m[4]||(m[4]=e("div",{class:"friend-header"},null,-1)),e("div",La,[x(e("input",{"onUpdate:modelValue":m[0]||(m[0]=v=>u.value=v),placeholder:"ç½‘ç«™å",class:"input"},null,512),[[I,u.value]]),x(e("input",{"onUpdate:modelValue":m[1]||(m[1]=v=>B.value=v),placeholder:"ç½‘ç«™é“¾æ¥",class:"input"},null,512),[[I,B.value]]),x(e("input",{"onUpdate:modelValue":m[2]||(m[2]=v=>V.value=v),placeholder:"logoé“¾æ¥(å¯é€‰)",class:"input"},null,512),[[I,V.value]]),e("button",{class:"btn",onClick:T},"æ·»åŠ å‹é“¾")]),e("div",Wa,[e("table",Na,[m[3]||(m[3]=e("thead",null,[e("tr",null,[e("th",null,"ç½‘ç«™å"),e("th",null,"é“¾æ¥"),e("th",null,"Logo"),e("th",null,"æ“ä½œ")])],-1)),e("tbody",null,[(i(!0),r(q,null,J(d.value,v=>(i(),r("tr",{key:v.id},[e("td",null,[x(e("input",{"onUpdate:modelValue":h=>v.title=h,onBlur:h=>U(v),class:"input"},null,40,za),[[I,v.title]])]),e("td",null,[x(e("input",{"onUpdate:modelValue":h=>v.url=h,onBlur:h=>U(v),class:"input"},null,40,Ea),[[I,v.url]])]),e("td",null,[x(e("input",{"onUpdate:modelValue":h=>v.logo=h,onBlur:h=>U(v),class:"input",placeholder:"logoé“¾æ¥(å¯é€‰)"},null,40,Pa),[[I,v.logo]])]),e("td",null,[e("button",{class:"btn btn-danger",onClick:h=>n(v.id)},"åˆ é™¤",8,Ha)])]))),128))])])])]))}},Fa=ee(Oa,[["__scopeId","data-v-c25e838c"]]),Ra={class:"user-manage"},ja={class:"user-card"},qa={class:"username-section"},Ja={class:"username-form"},Ga={class:"current-username"},Ka={class:"username-display"},Qa={class:"form-group"},Xa={class:"form-actions"},Ya=["disabled"],Za={class:"password-section"},eo={class:"password-form"},to={class:"form-group"},so={class:"form-group"},lo={class:"form-group"},ao={class:"form-actions"},oo=["disabled"],no={__name:"UserManage",setup(z){const d=g(""),u=g(""),B=g(""),V=g(!1),L=g(""),T=g("success"),U=g({}),n=g(""),p=g(!1),m=g(""),v=g("success");le(()=>A(null,null,function*(){yield h()}));function h(){return A(this,null,function*(){try{const C=yield ut();U.value=C.data.data||C.data}catch(C){console.error("è·å–ç”¨æˆ·ä¿¡æ¯å¤±è´¥:",C)}})}function y(){return A(this,null,function*(){var C,w;if(!n.value){a("è¯·è¾“å…¥æ–°ç”¨æˆ·å","error");return}if(n.value.length<3||n.value.length>20){a("ç”¨æˆ·åé•¿åº¦åº”ä¸º3-20ä½","error");return}if(n.value===U.value.username){a("æ–°ç”¨æˆ·åä¸èƒ½ä¸å½“å‰ç”¨æˆ·åç›¸åŒ","error");return}p.value=!0,m.value="";try{yield ct(n.value),a("ç”¨æˆ·åä¿®æ”¹æˆåŠŸï¼2ç§’åè‡ªåŠ¨é€€å‡ºï¼Œè¯·ä½¿ç”¨æ–°ç”¨æˆ·åé‡æ–°ç™»å½•...","success"),n.value="",setTimeout(()=>{localStorage.removeItem("token"),window.location.href="/admin"},2e3)}catch(_){a(((w=(C=_.response)==null?void 0:C.data)==null?void 0:w.message)||"ç”¨æˆ·åä¿®æ”¹å¤±è´¥","error")}finally{p.value=!1}})}function a(C,w){m.value=C,v.value=w,setTimeout(()=>{m.value=""},3e3)}function o(){return A(this,null,function*(){var C,w;if(!d.value||!u.value||!B.value){l("è¯·å¡«å†™æ‰€æœ‰å¯†ç å­—æ®µ","error");return}if(u.value!==B.value){l("ä¸¤æ¬¡è¾“å…¥çš„æ–°å¯†ç ä¸ä¸€è‡´","error");return}if(u.value.length<6){l("æ–°å¯†ç é•¿åº¦è‡³å°‘6ä½","error");return}V.value=!0,L.value="";try{yield vt(d.value,u.value),l("å¯†ç ä¿®æ”¹æˆåŠŸ","success"),d.value="",u.value="",B.value=""}catch(_){l(((w=(C=_.response)==null?void 0:C.data)==null?void 0:w.message)||"å¯†ç ä¿®æ”¹å¤±è´¥","error")}finally{V.value=!1}})}function l(C,w){L.value=C,T.value=w,C==="å¯†ç ä¿®æ”¹æˆåŠŸ"&&w==="success"?setTimeout(()=>{L.value="2ç§’åè‡ªåŠ¨é€€å‡ºç™»å½•,è¯·ä½¿ç”¨æ–°å¯†ç é‡æ–°ç™»å½•...",setTimeout(()=>{localStorage.removeItem("token"),window.location.reload()},2e3)},500):setTimeout(()=>{L.value=""},3e3)}return(C,w)=>(i(),r("div",Ra,[w[11]||(w[11]=e("div",{class:"user-header"},null,-1)),e("div",ja,[e("div",qa,[w[6]||(w[6]=e("h3",{class:"section-title"},"ä¿®æ”¹ç”¨æˆ·å",-1)),e("div",Ja,[e("div",Ga,[w[4]||(w[4]=e("label",null,"å½“å‰ç”¨æˆ·åï¼š",-1)),e("span",Ka,k(U.value.username||"admin"),1)]),e("div",Qa,[w[5]||(w[5]=e("label",null,"æ–°ç”¨æˆ·åï¼š",-1)),x(e("input",{"onUpdate:modelValue":w[0]||(w[0]=_=>n.value=_),type:"text",placeholder:"è¯·è¾“å…¥æ–°ç”¨æˆ·åï¼ˆ3-20ä½ï¼‰",class:"input"},null,512),[[I,n.value]])]),e("div",Xa,[e("button",{onClick:y,class:"btn",disabled:p.value},k(p.value?"ä¿®æ”¹ä¸­...":"ä¿®æ”¹ç”¨æˆ·å"),9,Ya)]),m.value?(i(),r("p",{key:0,class:O(["message",v.value])},k(m.value),3)):N("",!0)])]),e("div",Za,[w[10]||(w[10]=e("h3",{class:"section-title"},"ä¿®æ”¹å¯†ç ",-1)),e("div",eo,[e("div",to,[w[7]||(w[7]=e("label",null,"å½“å‰å¯†ç ï¼š",-1)),x(e("input",{"onUpdate:modelValue":w[1]||(w[1]=_=>d.value=_),type:"password",placeholder:"è¯·è¾“å…¥å½“å‰å¯†ç ",class:"input"},null,512),[[I,d.value]])]),e("div",so,[w[8]||(w[8]=e("label",null,"æ–°å¯†ç ï¼š",-1)),x(e("input",{"onUpdate:modelValue":w[2]||(w[2]=_=>u.value=_),type:"password",placeholder:"è¯·è¾“å…¥æ–°å¯†ç ",class:"input"},null,512),[[I,u.value]])]),e("div",lo,[w[9]||(w[9]=e("label",null,"ç¡®è®¤æ–°å¯†ç ï¼š",-1)),x(e("input",{"onUpdate:modelValue":w[3]||(w[3]=_=>B.value=_),type:"password",placeholder:"è¯·å†æ¬¡è¾“å…¥æ–°å¯†ç ",class:"input"},null,512),[[I,B.value]])]),e("div",ao,[e("button",{onClick:o,class:"btn",disabled:V.value},k(V.value?"ä¿®æ”¹ä¸­...":"ä¿®æ”¹å¯†ç "),9,oo)]),L.value?(i(),r("p",{key:0,class:O(["message",T.value])},k(L.value),3)):N("",!0)])])])]))}},io=ee(no,[["__scopeId","data-v-40392133"]]),ro={class:"backup-manage"},uo={class:"tabs"},co={class:"tab-content"},vo={class:"toolbar"},po=["disabled"],mo=["disabled"],bo=["disabled"],go={class:"backup-list"},fo={key:0,class:"empty-state"},ho={key:1,class:"backup-grid"},wo={class:"backup-info"},ko={class:"backup-name"},yo={class:"backup-meta"},_o={class:"backup-size"},$o={class:"backup-date"},Co={key:0,class:"backup-signed",title:"å·²ç­¾åéªŒè¯"},Mo={key:1,class:"backup-unsigned",title:"æœªç­¾åï¼ˆå¤–éƒ¨ä¸Šä¼ ï¼‰"},xo={class:"backup-actions"},Vo=["onClick"],Bo=["onClick"],Uo=["onClick"],Do=["onClick"],Ao={class:"tab-content"},To={class:"toolbar"},Io=["disabled"],So=["disabled"],Lo={key:1,class:"info-box"},Wo={class:"backup-list"},No={key:0,class:"empty-state"},zo={key:1,class:"backup-grid"},Eo={class:"backup-info"},Po={class:"backup-name"},Ho={class:"backup-meta"},Oo={class:"backup-size"},Fo={class:"backup-date"},Ro={class:"backup-actions"},jo=["onClick"],qo=["onClick"],Jo={class:"tab-content"},Go={class:"config-section"},Ko={class:"config-card"},Qo={class:"config-header"},Xo={class:"switch"},Yo={key:0,class:"config-fields"},Zo={class:"field-row"},en={class:"field-row"},tn={class:"config-card"},sn={class:"config-header"},ln={class:"switch"},an={key:0,class:"config-fields"},on={class:"field-row"},nn={class:"time-input"},dn={class:"field-row"},rn={class:"field-row checkbox-row"},un={class:"checkbox-label"},cn={class:"config-card"},vn={class:"config-header"},pn={class:"switch"},mn={class:"config-info"},bn={key:0,class:"warning-text"},gn={key:0,class:"config-fields"},fn={class:"field-row checkbox-row"},hn={class:"checkbox-label"},wn={class:"field-row checkbox-row"},kn={class:"checkbox-label"},yn={class:"config-card"},_n={class:"config-header"},$n={class:"switch"},Cn={key:0,class:"stats-card"},Mn={class:"stats-grid"},xn={class:"stat-item"},Vn={class:"stat-value"},Bn={class:"stat-item"},Un={class:"stat-value"},Dn={class:"stat-item"},An={class:"stat-value"},Tn={class:"stat-item"},In={class:"stat-value"},Sn={class:"config-actions"},Ln=["disabled"],Wn={key:0,class:"modal-overlay"},Nn={class:"modal-content config-modal"},zn={class:"form-group"},En={class:"form-group"},Pn={class:"form-group"},Hn=["placeholder"],On={key:0},Fn={key:1},Rn={class:"modal-actions"},jn=["disabled"],qn={key:1,class:"modal-overlay"},Jn={class:"modal-content"},Gn={style:{"white-space":"pre-line"}},Kn={class:"modal-actions"},Qn=["disabled"],Xn=["disabled"],Yn={key:2,class:"modal-overlay"},Zn={class:"modal-content config-modal"},ei={class:"form-group"},ti={class:"form-group"},si={class:"modal-actions"},li=["disabled"],ai={key:3,class:"modal-overlay"},oi={class:"modal-content config-modal"},ni={class:"form-group"},ii={class:"modal-actions"},di=["disabled"],ri={__name:"BackupManage",setup(z){const d=g("local"),u=g([]),B=g([]),V=g(!1),L=g(!1),T=g(!1),U=g(null),n=ae({create:!1,list:!1,delete:!1,restore:!1,upload:!1,rename:!1,webdavConfig:!1,webdavBackup:!1,webdavList:!1,webdavRestore:!1,webdavDelete:!1,autoBackupConfig:!1}),p=ae({name:"",description:""}),m=ae({oldName:"",newName:""}),v=g({text:"",type:""}),h=ae({show:!1,filename:"",action:null,title:"",message:"",confirmClass:"",signed:!0,processing:!1}),y=ae({configured:!1,url:"",username:""}),a=ae({url:"",username:"",password:""}),o=ae({debounce:{enabled:!0,delay:5,keep:5},scheduled:{enabled:!0,hour:2,minute:0,keep:7,onlyIfModified:!0},webdav:{enabled:!1,syncDaily:!0,syncIncremental:!0},autoClean:!0}),l=g(null),C=localStorage.getItem("token");function w(j){return A(this,arguments,function*($,t={}){return(yield fetch($,fe(me({},t),{headers:me({Authorization:`Bearer ${C}`,"Content-Type":"application/json"},t.headers)}))).json()})}const _=($,t="success",j=4e3)=>{v.value={text:$,type:t},setTimeout(()=>{v.value={text:"",type:""}},t==="error"?6e3:j)};function H(){try{window.dispatchEvent(new CustomEvent("nav-menus-updated")),console.log("[å¤‡ä»½ç®¡ç†] å·²é€šçŸ¥æ‰©å±•åˆ·æ–°å³é”®èœå•")}catch($){console.warn("[å¤‡ä»½ç®¡ç†] é€šçŸ¥æ‰©å±•å¤±è´¥:",$)}}const Q=()=>{p.name="",p.description="",L.value=!0},X=()=>A(null,null,function*(){n.create=!0;const $=yield w("/api/backup/create",{method:"POST",body:JSON.stringify({name:p.name||null,description:p.description||null})});$.success?(_("å¤‡ä»½åˆ›å»ºæˆåŠŸï¼"),L.value=!1,yield F()):_($.message||"å¤‡ä»½åˆ›å»ºå¤±è´¥","error"),n.create=!1}),Y=$=>{m.oldName=$,m.newName=$.replace(".zip",""),T.value=!0},te=()=>A(null,null,function*(){if(!m.newName.trim()){_("è¯·è¾“å…¥æ–°åç§°","error");return}n.rename=!0;const $=yield w(`/api/backup/rename/${m.oldName}`,{method:"PUT",body:JSON.stringify({newName:m.newName})});$.success?(_("é‡å‘½åæˆåŠŸï¼"),T.value=!1,yield F()):_($.message||"é‡å‘½åå¤±è´¥","error"),n.rename=!1}),F=()=>A(null,null,function*(){n.list=!0;const $=yield w("/api/backup/list");$.success?u.value=$.backups:_("è·å–å¤‡ä»½åˆ—è¡¨å¤±è´¥","error"),n.list=!1}),R=$=>{window.open(`/api/backup/download/${$}?token=${C}`,"_blank")},W=($,t)=>{const j=typeof t=="object"?t:{name:t},f=j.name;h.show=!0,h.filename=f,h.action=$,h.signed=j.signed,h.processing=!1,$==="delete"?(h.title="åˆ é™¤",h.message=`ç¡®å®šè¦åˆ é™¤å¤‡ä»½æ–‡ä»¶ ${f} å—ï¼Ÿ`,h.confirmClass="btn-danger"):$==="restore"?(h.title="æ¢å¤",j.signed?h.message=`ç¡®å®šè¦æ¢å¤å¤‡ä»½æ–‡ä»¶ ${f} å—ï¼Ÿ`:h.message=`âš ï¸ è­¦å‘Šï¼šæ­¤å¤‡ä»½æ–‡ä»¶æœªç­¾åï¼ˆå¯èƒ½æ˜¯å¤–éƒ¨ä¸Šä¼ çš„ï¼‰ï¼Œæ— æ³•éªŒè¯å…¶å®Œæ•´æ€§ã€‚

ç¡®å®šè¦æ¢å¤å¤‡ä»½æ–‡ä»¶ ${f} å—ï¼Ÿ`,h.confirmClass="btn-restore"):$==="webdav-restore"?(h.title="ä»WebDAVæ¢å¤",h.message=`ç¡®å®šè¦ä»WebDAVæ¢å¤å¤‡ä»½ ${f} å—ï¼Ÿè¿™å°†è¦†ç›–å½“å‰æ•°æ®ã€‚`,h.confirmClass="btn-restore"):$==="webdav-delete"&&(h.title="åˆ é™¤WebDAVå¤‡ä»½",h.message=`ç¡®å®šè¦åˆ é™¤WebDAVå¤‡ä»½ ${f} å—ï¼Ÿ`,h.confirmClass="btn-danger")},b=()=>A(null,null,function*(){const{action:$,filename:t,signed:j}=h;h.show=!1,h.processing=!1;try{if($==="delete"){_("æ­£åœ¨åˆ é™¤å¤‡ä»½...");const f=yield w(`/api/backup/delete/${t}`,{method:"DELETE"});f.success?(_("âœ“ åˆ é™¤æˆåŠŸ"),yield F()):_("âœ— "+(f.message||"åˆ é™¤å¤±è´¥"),"error")}else if($==="restore"){_("æ­£åœ¨æ¢å¤å¤‡ä»½ï¼Œè¯·ç¨å€™...");const f=j?{}:{forceRestore:!0},G=yield w(`/api/backup/restore/${t}`,{method:"POST",body:JSON.stringify(f)});if(G.success)_("âœ“ å¤‡ä»½å·²æ¢å¤ï¼Œæ­£åœ¨é‡æ–°åŠ è½½æ•°æ®..."),yield new Promise(pe=>setTimeout(pe,2e3)),yield Promise.all([F(),s(),K(),Z()]),H(),_("âœ“ æ¢å¤å®Œæˆï¼æ•°æ®å·²æ›´æ–°","success",5e3);else if(G.requireConfirm&&G.code==="NO_SIGNATURE"){if(confirm(G.message+`

ç‚¹å‡»"ç¡®å®š"ç»§ç»­æ¢å¤ï¼Œç‚¹å‡»"å–æ¶ˆ"æ”¾å¼ƒæ“ä½œã€‚`)){const pe=yield w(`/api/backup/restore/${t}`,{method:"POST",body:JSON.stringify({forceRestore:!0})});pe.success?(_("âœ“ å¤‡ä»½å·²æ¢å¤ï¼Œæ­£åœ¨é‡æ–°åŠ è½½æ•°æ®..."),yield new Promise(Te=>setTimeout(Te,2e3)),yield Promise.all([F(),s(),K(),Z()]),H(),_("âœ“ æ¢å¤å®Œæˆï¼æ•°æ®å·²æ›´æ–°","success",5e3)):_("âœ— "+(pe.message||"æ¢å¤å¤±è´¥"),"error")}}else _("âœ— "+(G.message||"æ¢å¤å¤±è´¥"),"error")}else $==="webdav-restore"?yield ce(t):$==="webdav-delete"&&(yield ve(t))}catch(f){_("âœ— æ“ä½œå¤±è´¥: "+f.message,"error")}}),M=$=>$?new Date($).toLocaleString("zh-CN",{hour12:!1}):"--",D=()=>{U.value.click()},c=$=>A(null,null,function*(){const t=$.target.files[0];if(t){if(!t.name.endsWith(".zip")){_("åªæ”¯æŒ.zipæ ¼å¼çš„å¤‡ä»½æ–‡ä»¶","error"),$.target.value="";return}if(t.size>500*1024*1024){_("å¤‡ä»½æ–‡ä»¶è¿‡å¤§ï¼Œæœ€å¤§æ”¯æŒ500MB","error"),$.target.value="";return}n.upload=!0;try{const j=new FormData;j.append("backup",t);const G=yield(yield fetch("/api/backup/upload",{method:"POST",headers:{Authorization:`Bearer ${C}`},body:j})).json();G.success?(_("å¤‡ä»½æ–‡ä»¶ä¸Šä¼ æˆåŠŸï¼"),yield F()):_(G.message||"å¤‡ä»½æ–‡ä»¶ä¸Šä¼ å¤±è´¥","error")}catch(j){console.error("ä¸Šä¼ å¤±è´¥:",j),_("å¤‡ä»½æ–‡ä»¶ä¸Šä¼ å¤±è´¥","error")}finally{n.upload=!1,$.target.value=""}}}),s=()=>A(null,null,function*(){const $=yield w("/api/backup/webdav/config");$.success&&$.config&&(y.configured=$.config.configured,y.url=$.config.url||"",y.username=$.config.username||"")}),se=()=>A(null,null,function*(){yield s(),a.url=y.url,a.username=y.username,a.password="",V.value=!0}),de=()=>A(null,null,function*(){if(!a.url||!a.username){_("è¯·å¡«å†™URLå’Œç”¨æˆ·å","error");return}if(!y.configured&&!a.password){_("é¦–æ¬¡é…ç½®æ—¶å¯†ç ä¸èƒ½ä¸ºç©º","error");return}n.webdavConfig=!0;const $=yield w("/api/backup/webdav/config",{method:"POST",body:JSON.stringify(a)});$.success?(V.value=!1,yield s(),y.configured?(yield K(),yield Z(),o.webdav.enabled?_("WebDAVé…ç½®ä¿å­˜æˆåŠŸï¼"):(o.webdav.enabled=!0,(yield w("/api/backup/auto/config",{method:"POST",body:JSON.stringify(o)})).success?_("WebDAVé…ç½®ä¿å­˜æˆåŠŸï¼Œå·²è‡ªåŠ¨å¼€å¯WebDAVè‡ªåŠ¨åŒæ­¥ï¼"):_("WebDAVé…ç½®ä¿å­˜æˆåŠŸï¼Œä½†è‡ªåŠ¨åŒæ­¥å¼€å¯å¤±è´¥","error"))):_("WebDAVé…ç½®ä¿å­˜æˆåŠŸï¼")):_($.message||"WebDAVé…ç½®ä¿å­˜å¤±è´¥","error"),n.webdavConfig=!1}),re=()=>A(null,null,function*(){n.webdavBackup=!0;const $=yield w("/api/backup/webdav/backup",{method:"POST"});$.success?(_("å¤‡ä»½åˆ°WebDAVæˆåŠŸï¼"),yield K()):_($.message||"å¤‡ä»½åˆ°WebDAVå¤±è´¥","error"),n.webdavBackup=!1}),ue=$=>{$.target.checked&&!y.configured&&(o.webdav.enabled=!1,_('è¯·å…ˆåœ¨"WebDAVå¤‡ä»½"æ ‡ç­¾é¡µé…ç½®WebDAVè¿æ¥',"error"),d.value="webdav")},K=()=>A(null,null,function*(){n.webdavList=!0;const $=yield w("/api/backup/webdav/list");$.success?B.value=$.backups||[]:_("è·å–WebDAVå¤‡ä»½åˆ—è¡¨å¤±è´¥","error"),n.webdavList=!1}),ce=$=>A(null,null,function*(){_("æ­£åœ¨ä» WebDAV æ¢å¤å¤‡ä»½ï¼Œè¯·ç¨å€™..."),n.webdavRestore=!0;try{const t=yield w("/api/backup/webdav/restore",{method:"POST",body:JSON.stringify({filename:$})});t.success?(_("âœ“ å¤‡ä»½å·²æ¢å¤ï¼Œæ­£åœ¨é‡æ–°åŠ è½½æ•°æ®..."),yield new Promise(j=>setTimeout(j,2e3)),yield Promise.all([F(),s(),K(),Z()]),H(),_("âœ“ æ¢å¤å®Œæˆï¼æ•°æ®å·²æ›´æ–°","success",5e3)):_("âœ— "+(t.message||"ä» WebDAV æ¢å¤å¤±è´¥"),"error")}catch(t){_("âœ— æ¢å¤å¤±è´¥: "+t.message,"error")}finally{n.webdavRestore=!1}}),ve=$=>A(null,null,function*(){_("æ­£åœ¨åˆ é™¤ WebDAV å¤‡ä»½..."),n.webdavDelete=!0;try{const t=yield w(`/api/backup/webdav/delete/${$}`,{method:"DELETE"});t.success?(_("âœ“ åˆ é™¤æˆåŠŸ"),yield K()):_("âœ— "+(t.message||"åˆ é™¤å¤±è´¥"),"error")}catch(t){_("âœ— åˆ é™¤å¤±è´¥: "+t.message,"error")}finally{n.webdavDelete=!1}}),Z=()=>A(null,null,function*(){const $=yield w("/api/backup/auto/config");$.success&&$.config?(Object.assign(o,$.config),l.value=$.stats||null):_("åŠ è½½è‡ªåŠ¨å¤‡ä»½é…ç½®å¤±è´¥","error")}),S=()=>A(null,null,function*(){n.autoBackupConfig=!0;const $=yield w("/api/backup/auto/config",{method:"POST",body:JSON.stringify(o)});$.success?(_("è‡ªåŠ¨å¤‡ä»½é…ç½®ä¿å­˜æˆåŠŸï¼"),yield Z()):_($.message||"è‡ªåŠ¨å¤‡ä»½é…ç½®ä¿å­˜å¤±è´¥","error"),n.autoBackupConfig=!1}),E=()=>{if(!o.scheduled.enabled)return"æœªå¯ç”¨";const $=String(o.scheduled.hour).padStart(2,"0"),t=String(o.scheduled.minute).padStart(2,"0");return`æ¯å¤© ${$}:${t}`};return le(()=>A(null,null,function*(){yield F(),yield s(),y.configured&&(yield K()),yield Z()})),($,t)=>{var j;return i(),r("div",ro,[e("div",uo,[e("button",{class:O(["tab",{active:d.value==="local"}]),onClick:t[0]||(t[0]=f=>d.value="local")}," ğŸ“¦ æœ¬åœ°å¤‡ä»½ ",2),e("button",{class:O(["tab",{active:d.value==="webdav"}]),onClick:t[1]||(t[1]=f=>d.value="webdav")}," â˜ï¸ WebDAVå¤‡ä»½ ",2),e("button",{class:O(["tab",{active:d.value==="auto"}]),onClick:t[2]||(t[2]=f=>d.value="auto")}," âš™ï¸ è‡ªåŠ¨å¤‡ä»½é…ç½® ",2)]),x(e("div",co,[e("div",vo,[e("button",{class:"btn btn-primary",onClick:Q,disabled:n.create},[t[25]||(t[25]=e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M17 8l-5-5-5 5M12 3v12"})],-1)),P(" "+k(n.create?"å¤‡ä»½ä¸­...":"åˆ›å»ºå¤‡ä»½"),1)],8,po),e("button",{class:"btn btn-success",onClick:D,disabled:n.upload},[t[26]||(t[26]=e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M7 10l5-5 5 5M12 15V3"})],-1)),P(" "+k(n.upload?"ä¸Šä¼ ä¸­...":"ä¸Šä¼ å¤‡ä»½"),1)],8,mo),e("button",{class:"btn btn-secondary",onClick:F,disabled:n.list},[t[27]||(t[27]=e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M1 4v6h6M23 20v-6h-6"}),e("path",{d:"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"})],-1)),P(" "+k(n.list?"åˆ·æ–°ä¸­...":"åˆ·æ–°åˆ—è¡¨"),1)],8,bo),e("input",{ref_key:"fileInput",ref:U,type:"file",accept:".zip",onChange:c,style:{display:"none"}},null,544)]),v.value.text?(i(),r("div",{key:0,class:O(["message",v.value.type])},k(v.value.text),3)):N("",!0),e("div",go,[u.value.length===0&&!n.list?(i(),r("div",fo,[...t[28]||(t[28]=[e("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"#ccc","stroke-width":"1.5"},[e("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e("circle",{cx:"12",cy:"7",r:"4"})],-1),e("p",null,"æš‚æ— å¤‡ä»½æ–‡ä»¶",-1)])])):(i(),r("div",ho,[(i(!0),r(q,null,J(u.value,f=>(i(),r("div",{key:f.name,class:"backup-card"},[t[33]||(t[33]=e("div",{class:"backup-icon"},[e("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"#2566d8","stroke-width":"2"},[e("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e("polyline",{points:"14 2 14 8 20 8"})])],-1)),e("div",wo,[e("div",ko,k(f.name),1),e("div",yo,[e("span",_o,k(f.size),1),e("span",$o,k(M(f.created)),1),f.signed?(i(),r("span",Co,"ğŸ”’")):(i(),r("span",Mo,"âš ï¸"))])]),e("div",xo,[e("button",{class:"btn-icon btn-restore",onClick:G=>W("restore",f),title:"æ¢å¤å¤‡ä»½"},[...t[29]||(t[29]=[e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M1 4v6h6M23 20v-6h-6"}),e("path",{d:"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"})],-1)])],8,Vo),e("button",{class:"btn-icon btn-rename",onClick:G=>Y(f.name),title:"é‡å‘½å"},[...t[30]||(t[30]=[e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})],-1)])],8,Bo),e("button",{class:"btn-icon",onClick:G=>R(f.name),title:"ä¸‹è½½å¤‡ä»½"},[...t[31]||(t[31]=[e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M7 10l5 5 5-5M12 15V3"})],-1)])],8,Uo),e("button",{class:"btn-icon btn-danger",onClick:G=>W("delete",f.name),title:"åˆ é™¤å¤‡ä»½"},[...t[32]||(t[32]=[e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("polyline",{points:"3 6 5 6 21 6"}),e("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})],-1)])],8,Do)])]))),128))]))])],512),[[he,d.value==="local"]]),x(e("div",Ao,[e("div",To,[e("button",{class:"btn btn-primary",onClick:se},[...t[34]||(t[34]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("circle",{cx:"12",cy:"12",r:"3"}),e("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})],-1),P(" WebDAVé…ç½® ",-1)])]),e("button",{class:"btn btn-primary",onClick:re,disabled:n.webdavBackup||!y.configured},[t[35]||(t[35]=e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M17 8l-5-5-5 5M12 3v12"})],-1)),P(" "+k(n.webdavBackup?"å¤‡ä»½ä¸­...":"å¤‡ä»½åˆ°WebDAV"),1)],8,Io),e("button",{class:"btn btn-secondary",onClick:K,disabled:n.webdavList||!y.configured},[t[36]||(t[36]=e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M1 4v6h6M23 20v-6h-6"}),e("path",{d:"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"})],-1)),P(" "+k(n.webdavList?"åˆ·æ–°ä¸­...":"åˆ·æ–°åˆ—è¡¨"),1)],8,So)]),v.value.text?(i(),r("div",{key:0,class:O(["message",v.value.type])},k(v.value.text),3)):N("",!0),y.configured?N("",!0):(i(),r("div",Lo,[...t[37]||(t[37]=[e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"#2566d8","stroke-width":"2"},[e("circle",{cx:"12",cy:"12",r:"10"}),e("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),e("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})],-1),e("p",null,"è¯·å…ˆé…ç½®WebDAVè¿æ¥ä¿¡æ¯ï¼ˆæ”¯æŒï¼šåšæœäº‘ã€Nextcloudã€é˜¿é‡Œäº‘ç›˜WebDAVã€Dropboxç­‰ï¼‰",-1)])])),e("div",Wo,[B.value.length===0&&!n.webdavList?(i(),r("div",No,[...t[38]||(t[38]=[e("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"#ccc","stroke-width":"1.5"},[e("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e("circle",{cx:"12",cy:"7",r:"4"})],-1),e("p",null,"æš‚æ— WebDAVå¤‡ä»½",-1)])])):(i(),r("div",zo,[(i(!0),r(q,null,J(B.value,f=>(i(),r("div",{key:f.name,class:"backup-card"},[t[41]||(t[41]=ie('<div class="backup-icon" data-v-ba148da1><svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="#16a34a" stroke-width="2" data-v-ba148da1><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" data-v-ba148da1></path><polyline points="14 2 14 8 20 8" data-v-ba148da1></polyline><path d="M12 18v-6M9 15l3 3 3-3" data-v-ba148da1></path></svg></div>',1)),e("div",Eo,[e("div",Po,k(f.name),1),e("div",Ho,[e("span",Oo,k(f.size),1),e("span",Fo,k(M(f.created)),1)])]),e("div",Ro,[e("button",{class:"btn-icon btn-restore",onClick:G=>W("webdav-restore",f.name),title:"ä»WebDAVæ¢å¤"},[...t[39]||(t[39]=[e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M1 4v6h6M23 20v-6h-6"}),e("path",{d:"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"})],-1)])],8,jo),e("button",{class:"btn-icon btn-danger",onClick:G=>W("webdav-delete",f.name),title:"åˆ é™¤WebDAVå¤‡ä»½"},[...t[40]||(t[40]=[e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("polyline",{points:"3 6 5 6 21 6"}),e("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})],-1)])],8,qo)])]))),128))]))])],512),[[he,d.value==="webdav"]]),x(e("div",Jo,[v.value.text?(i(),r("div",{key:0,class:O(["message",v.value.type])},k(v.value.text),3)):N("",!0),e("div",Go,[t[76]||(t[76]=e("h3",null,"âš¡ è‡ªåŠ¨å¤‡ä»½é…ç½®",-1)),t[77]||(t[77]=e("p",{class:"config-description"},"é…ç½®ç³»ç»Ÿè‡ªåŠ¨å¤‡ä»½ç­–ç•¥ï¼ŒåŒ…æ‹¬å¢é‡å¤‡ä»½å’Œå®šæ—¶å¤‡ä»½ã€‚",-1)),e("div",Ko,[e("div",Qo,[t[43]||(t[43]=e("h4",null,"å¢é‡å¤‡ä»½ï¼ˆé˜²æŠ–ï¼‰",-1)),e("label",Xo,[x(e("input",{type:"checkbox","onUpdate:modelValue":t[3]||(t[3]=f=>o.debounce.enabled=f)},null,512),[[oe,o.debounce.enabled]]),t[42]||(t[42]=e("span",{class:"slider"},null,-1))])]),t[48]||(t[48]=e("p",{class:"config-info"},"å½“æ•°æ®å˜æ›´æ—¶ï¼Œå»¶è¿Ÿä¸€æ®µæ—¶é—´åè‡ªåŠ¨å¤‡ä»½ã€‚é€‚åˆé¢‘ç¹ä¿®æ”¹çš„åœºæ™¯ã€‚",-1)),o.debounce.enabled?(i(),r("div",Yo,[e("div",Zo,[t[44]||(t[44]=e("label",null,"å»¶è¿Ÿæ—¶é—´ï¼ˆåˆ†é’Ÿï¼‰",-1)),x(e("input",{type:"number","onUpdate:modelValue":t[4]||(t[4]=f=>o.debounce.delay=f),min:"5",max:"1440",class:"form-input"},null,512),[[I,o.debounce.delay,void 0,{number:!0}]]),t[45]||(t[45]=e("small",null,"æ•°æ®ä¿®æ”¹åå»¶è¿Ÿå¤šä¹…è§¦å‘å¤‡ä»½ï¼ŒèŒƒå›´ï¼š5-1440åˆ†é’Ÿ",-1))]),e("div",en,[t[46]||(t[46]=e("label",null,"ä¿ç•™å¤‡ä»½æ•°é‡",-1)),x(e("input",{type:"number","onUpdate:modelValue":t[5]||(t[5]=f=>o.debounce.keep=f),min:"1",max:"30",class:"form-input"},null,512),[[I,o.debounce.keep,void 0,{number:!0}]]),t[47]||(t[47]=e("small",null,"è‡ªåŠ¨æ¸…ç†æ—¶ä¿ç•™æœ€æ–°çš„Nä¸ªå¤‡ä»½ï¼ŒèŒƒå›´ï¼š1-30ä¸ª",-1))])])):N("",!0)]),e("div",tn,[e("div",sn,[t[50]||(t[50]=e("h4",null,"å®šæ—¶å¤‡ä»½ï¼ˆæ¯æ—¥ï¼‰",-1)),e("label",ln,[x(e("input",{type:"checkbox","onUpdate:modelValue":t[6]||(t[6]=f=>o.scheduled.enabled=f)},null,512),[[oe,o.scheduled.enabled]]),t[49]||(t[49]=e("span",{class:"slider"},null,-1))])]),t[58]||(t[58]=e("p",{class:"config-info"},"æ¯å¤©åœ¨å›ºå®šæ—¶é—´è‡ªåŠ¨æ‰§è¡Œå¤‡ä»½ã€‚",-1)),o.scheduled.enabled?(i(),r("div",an,[e("div",on,[t[52]||(t[52]=e("label",null,"å¤‡ä»½æ—¶é—´",-1)),e("div",nn,[x(e("input",{type:"number","onUpdate:modelValue":t[7]||(t[7]=f=>o.scheduled.hour=f),min:"0",max:"23",class:"form-input time-field",placeholder:"æ—¶"},null,512),[[I,o.scheduled.hour,void 0,{number:!0}]]),t[51]||(t[51]=e("span",null,":",-1)),x(e("input",{type:"number","onUpdate:modelValue":t[8]||(t[8]=f=>o.scheduled.minute=f),min:"0",max:"59",class:"form-input time-field",placeholder:"åˆ†"},null,512),[[I,o.scheduled.minute,void 0,{number:!0}]])]),t[53]||(t[53]=e("small",null,"æ ¼å¼ï¼š24å°æ—¶åˆ¶ï¼Œå¦‚ 02:00",-1))]),e("div",dn,[t[54]||(t[54]=e("label",null,"ä¿ç•™å¤‡ä»½æ•°é‡",-1)),x(e("input",{type:"number","onUpdate:modelValue":t[9]||(t[9]=f=>o.scheduled.keep=f),min:"1",max:"30",class:"form-input"},null,512),[[I,o.scheduled.keep,void 0,{number:!0}]]),t[55]||(t[55]=e("small",null,"è‡ªåŠ¨æ¸…ç†æ—¶ä¿ç•™æœ€æ–°çš„Nä¸ªå¤‡ä»½ï¼ŒèŒƒå›´ï¼š1-30ä¸ª",-1))]),e("div",rn,[e("label",un,[x(e("input",{type:"checkbox","onUpdate:modelValue":t[10]||(t[10]=f=>o.scheduled.onlyIfModified=f)},null,512),[[oe,o.scheduled.onlyIfModified]]),t[56]||(t[56]=e("span",null,"ä»…åœ¨æœ‰ä¿®æ”¹æ—¶å¤‡ä»½",-1))]),t[57]||(t[57]=e("small",null,"å¦‚æœ24å°æ—¶å†…å·²æœ‰å¢é‡å¤‡ä»½ï¼Œè·³è¿‡å®šæ—¶å¤‡ä»½ï¼ˆé¿å…é‡å¤ï¼‰",-1))])])):N("",!0)]),e("div",cn,[e("div",vn,[t[60]||(t[60]=e("h4",null,"â˜ï¸ WebDAV è‡ªåŠ¨åŒæ­¥",-1)),e("label",pn,[x(e("input",{type:"checkbox","onUpdate:modelValue":t[11]||(t[11]=f=>o.webdav.enabled=f),onChange:ue},null,544),[[oe,o.webdav.enabled]]),t[59]||(t[59]=e("span",{class:"slider"},null,-1))])]),e("p",mn,[t[61]||(t[61]=P(" è‡ªåŠ¨å°†æœ¬åœ°å¤‡ä»½åŒæ­¥åˆ° WebDAV äº‘ç«¯ã€‚ ",-1)),y.configured?N("",!0):(i(),r("span",bn,'âš ï¸ è¯·å…ˆåœ¨"WebDAVå¤‡ä»½"æ ‡ç­¾é¡µé…ç½®è¿æ¥'))]),o.webdav.enabled?(i(),r("div",gn,[e("div",fn,[e("label",hn,[x(e("input",{type:"checkbox","onUpdate:modelValue":t[12]||(t[12]=f=>o.webdav.syncDaily=f)},null,512),[[oe,o.webdav.syncDaily]]),t[62]||(t[62]=e("span",null,"åŒæ­¥æ¯æ—¥å®šæ—¶å¤‡ä»½",-1))]),t[63]||(t[63]=e("small",null,"æ¯å¤©å®šæ—¶å¤‡ä»½åè‡ªåŠ¨ä¸Šä¼ åˆ° WebDAV",-1))]),e("div",wn,[e("label",kn,[x(e("input",{type:"checkbox","onUpdate:modelValue":t[13]||(t[13]=f=>o.webdav.syncIncremental=f)},null,512),[[oe,o.webdav.syncIncremental]]),t[64]||(t[64]=e("span",null,"åŒæ­¥å¢é‡å¤‡ä»½",-1))]),t[65]||(t[65]=e("small",null,"å¢é‡å¤‡ä»½åè‡ªåŠ¨ä¸Šä¼ åˆ° WebDAV",-1))])])):N("",!0)]),e("div",yn,[e("div",_n,[t[67]||(t[67]=e("h4",null,"è‡ªåŠ¨æ¸…ç†",-1)),e("label",$n,[x(e("input",{type:"checkbox","onUpdate:modelValue":t[14]||(t[14]=f=>o.autoClean=f)},null,512),[[oe,o.autoClean]]),t[66]||(t[66]=e("span",{class:"slider"},null,-1))])]),t[68]||(t[68]=e("p",{class:"config-info"},"è‡ªåŠ¨åˆ é™¤è¶…å‡ºä¿ç•™æ•°é‡çš„æ—§å¤‡ä»½æ–‡ä»¶ï¼ˆæŒ‰æ—¶é—´æ’åºï¼Œä¿ç•™æœ€æ–°çš„ï¼‰ã€‚",-1))]),l.value?(i(),r("div",Cn,[t[73]||(t[73]=e("h4",null,"ğŸ“Š å¤‡ä»½ç»Ÿè®¡",-1)),e("div",Mn,[e("div",xn,[t[69]||(t[69]=e("span",{class:"stat-label"},"å¢é‡å¤‡ä»½æ•°é‡",-1)),e("span",Vn,k(((j=l.value.incremental)==null?void 0:j.count)||0)+" ä¸ª",1)]),e("div",Bn,[t[70]||(t[70]=e("span",{class:"stat-label"},"æœ€åå¢é‡å¤‡ä»½",-1)),e("span",Un,k(M(l.value.lastDebounce)||"æ— "),1)]),e("div",Dn,[t[71]||(t[71]=e("span",{class:"stat-label"},"æœ€åå®šæ—¶å¤‡ä»½",-1)),e("span",An,k(M(l.value.lastScheduled)||"æ— "),1)]),e("div",Tn,[t[72]||(t[72]=e("span",{class:"stat-label"},"ä¸‹æ¬¡å®šæ—¶å¤‡ä»½",-1)),e("span",In,k(E()),1)])])])):N("",!0),e("div",Sn,[e("button",{class:"btn btn-secondary",onClick:Z},[...t[74]||(t[74]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M1 4v6h6M23 20v-6h-6"}),e("path",{d:"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"})],-1),P(" é‡ç½® ",-1)])]),e("button",{class:"btn btn-primary",onClick:S,disabled:n.autoBackupConfig},[t[75]||(t[75]=e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),e("polyline",{points:"17 21 17 13 7 13 7 21"}),e("polyline",{points:"7 3 7 8 15 8"})],-1)),P(" "+k(n.autoBackupConfig?"ä¿å­˜ä¸­...":"ä¿å­˜é…ç½®"),1)],8,Ln)])])],512),[[he,d.value==="auto"]]),V.value?(i(),r("div",Wn,[e("div",Nn,[t[82]||(t[82]=e("h3",null,"WebDAVé…ç½®",-1)),e("div",zn,[t[78]||(t[78]=e("label",null,[P("WebDAV URL "),e("span",{class:"required"},"*")],-1)),x(e("input",{type:"text","onUpdate:modelValue":t[15]||(t[15]=f=>a.url=f),placeholder:"https://dav.jianguoyun.com/dav/",class:"form-input"},null,512),[[I,a.url]]),t[79]||(t[79]=e("small",null,"ä¾‹ï¼šåšæœäº‘ https://dav.jianguoyun.com/dav/",-1))]),e("div",En,[t[80]||(t[80]=e("label",null,[P("ç”¨æˆ·å "),e("span",{class:"required"},"*")],-1)),x(e("input",{type:"text","onUpdate:modelValue":t[16]||(t[16]=f=>a.username=f),placeholder:"é‚®ç®±æˆ–ç”¨æˆ·å",class:"form-input"},null,512),[[I,a.username]])]),e("div",Pn,[t[81]||(t[81]=e("label",null,[P("å¯†ç  "),e("span",{class:"required"},"*")],-1)),x(e("input",{type:"password","onUpdate:modelValue":t[17]||(t[17]=f=>a.password=f),placeholder:y.configured?"ç•™ç©ºåˆ™ä¿æŒåŸå¯†ç ä¸å˜":"åº”ç”¨å¯†ç æˆ–è®¿é—®ä»¤ç‰Œ",class:"form-input"},null,8,Hn),[[I,a.password]]),y.configured?(i(),r("small",Fn,"å¦‚éœ€ä¿®æ”¹å¯†ç è¯·è¾“å…¥æ–°å¯†ç ï¼Œç•™ç©ºåˆ™ä¿æŒåŸå¯†ç ä¸å˜")):(i(),r("small",On,"æ³¨æ„ï¼šæŸäº›æœåŠ¡éœ€è¦ä½¿ç”¨åº”ç”¨ä¸“ç”¨å¯†ç ï¼Œè€Œä¸æ˜¯ç™»å½•å¯†ç "))]),e("div",Rn,[e("button",{class:"btn btn-secondary",onClick:t[18]||(t[18]=f=>V.value=!1)},"å–æ¶ˆ"),e("button",{class:"btn btn-primary",onClick:de,disabled:n.webdavConfig},k(n.webdavConfig?"æµ‹è¯•è¿æ¥ä¸­...":"ä¿å­˜"),9,jn)])])])):N("",!0),h.show?(i(),r("div",qn,[e("div",Jn,[e("h3",null,"ç¡®è®¤"+k(h.title),1),e("p",Gn,k(h.message),1),e("div",Kn,[e("button",{class:"btn btn-secondary",onClick:t[19]||(t[19]=f=>h.show=!1),disabled:h.processing},"å–æ¶ˆ",8,Qn),e("button",{class:O(["btn",h.confirmClass]),onClick:b,disabled:h.processing},k(h.processing?"å¤„ç†ä¸­...":"ç¡®è®¤"),11,Xn)])])])):N("",!0),L.value?(i(),r("div",Yn,[e("div",Zn,[t[86]||(t[86]=e("h3",null,"åˆ›å»ºå¤‡ä»½",-1)),e("div",ei,[t[83]||(t[83]=e("label",null,"å¤‡ä»½åç§°ï¼ˆå¯é€‰ï¼‰",-1)),x(e("input",{type:"text","onUpdate:modelValue":t[20]||(t[20]=f=>p.name=f),placeholder:"ä¾‹å¦‚ï¼šæ·»åŠ ä¹¦ç­¾åçš„å¤‡ä»½",class:"form-input",maxlength:"50"},null,512),[[I,p.name]]),t[84]||(t[84]=e("small",null,"ç•™ç©ºåˆ™ä½¿ç”¨é»˜è®¤åç§°ï¼ˆbackup-æ—¶é—´æˆ³ï¼‰",-1))]),e("div",ti,[t[85]||(t[85]=e("label",null,"å¤‡ä»½æè¿°ï¼ˆå¯é€‰ï¼‰",-1)),x(e("textarea",{"onUpdate:modelValue":t[21]||(t[21]=f=>p.description=f),placeholder:"æè¿°è¿™æ¬¡å¤‡ä»½çš„å†…å®¹æˆ–ç›®çš„...",class:"form-input",rows:"3"},null,512),[[I,p.description]])]),e("div",si,[e("button",{class:"btn btn-secondary",onClick:t[22]||(t[22]=f=>L.value=!1)},"å–æ¶ˆ"),e("button",{class:"btn btn-primary",onClick:X,disabled:n.create},k(n.create?"å¤‡ä»½ä¸­...":"åˆ›å»ºå¤‡ä»½"),9,li)])])])):N("",!0),T.value?(i(),r("div",ai,[e("div",oi,[t[88]||(t[88]=e("h3",null,"é‡å‘½åå¤‡ä»½",-1)),e("div",ni,[t[87]||(t[87]=e("label",null,[P("æ–°åç§° "),e("span",{class:"required"},"*")],-1)),x(e("input",{type:"text","onUpdate:modelValue":t[23]||(t[23]=f=>m.newName=f),placeholder:"è¾“å…¥æ–°çš„å¤‡ä»½åç§°",class:"form-input",maxlength:"50"},null,512),[[I,m.newName]]),e("small",null,"åŸåç§°ï¼š"+k(m.oldName),1)]),e("div",ii,[e("button",{class:"btn btn-secondary",onClick:t[24]||(t[24]=f=>T.value=!1)},"å–æ¶ˆ"),e("button",{class:"btn btn-primary",onClick:te,disabled:n.rename||!m.newName.trim()},k(n.rename?"é‡å‘½åä¸­...":"ç¡®è®¤é‡å‘½å"),9,di)])])])):N("",!0)])}}},ui=ee(ri,[["__scopeId","data-v-ba148da1"]]),ci={key:0,class:"login-container"},vi={class:"login-card"},pi={class:"login-form"},mi={class:"password-input-wrapper"},bi=["type"],gi={key:0,width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"#2566d8","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},fi={key:1,width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"#2566d8","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},hi={class:"login-buttons"},wi=["disabled"],ki={key:0,class:"login-error"},yi={key:1,class:"admin-layout"},_i={class:"menu-list"},$i={class:"admin-main"},Ci={class:"admin-header"},Mi={class:"header-title"},xi={class:"admin-content"},Ue=1800*1e3,Vi={__name:"Admin",setup(z){const d=g("welcome");let u=null,B=Date.now();function V(){B=Date.now(),localStorage.setItem("lastActivityTime",B.toString()),u&&clearTimeout(u),l.value&&(u=setTimeout(()=>{L()},Ue))}function L(){l.value&&(alert("ç”±äºé•¿æ—¶é—´æœªæ“ä½œï¼Œå·²è‡ªåŠ¨é€€å‡ºç™»å½•"),R())}function T(){const D=localStorage.getItem("lastActivityTime");return D&&Date.now()-parseInt(D)>=Ue?(localStorage.removeItem("token"),localStorage.removeItem("lastActivityTime"),!0):!1}const U=["mousedown","mousemove","keydown","scroll","touchstart","click"];function n(){U.forEach(D=>{document.addEventListener(D,V,{passive:!0})})}function p(){U.forEach(D=>{document.removeEventListener(D,V)})}ze(()=>{u&&clearTimeout(u),p()});const m={welcome:_t,menu:bs,card:tl,duplicate:zl,tag:sa,promo:Ia,friend:Fa,user:io,backup:ui},v=ne(()=>m[d.value]),h=ne(()=>d.value==="welcome"?{lastLoginTime:y.value,lastLoginIp:a.value,currentUsername:o.value}:{}),y=g(""),a=g(""),o=g("admin"),l=g(!1),C=g(""),w=g(""),_=g(!1),H=g(""),Q=g(!1),X=g(!1),Y=ne(()=>{switch(d.value){case"menu":return"æ ç›®ç®¡ç†";case"card":return"å¡ç‰‡ç®¡ç†";case"duplicate":return"å»é‡ç®¡ç†";case"tag":return"æ ‡ç­¾ç®¡ç†";case"promo":return"å®£ä¼ ç®¡ç†";case"friend":return"å‹é“¾ç®¡ç†";case"user":return"ç”¨æˆ·ç®¡ç†";case"backup":return"å¤‡ä»½ç®¡ç†";default:return""}});le(()=>{if(T()){l.value=!1;return}const D=localStorage.getItem("token");l.value=!!D,l.value&&(te(),V(),n())});function te(){return A(this,null,function*(){try{const D=yield fetch("/api/users/me",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(D.ok){const c=yield D.json();y.value=c.last_login_time||"",a.value=c.last_login_ip||"",o.value=c.username||"admin"}}catch(D){console.error("è·å–ç”¨æˆ·ä¿¡æ¯å¤±è´¥:",D)}})}function F(){return A(this,null,function*(){var D,c;if(!C.value||!w.value){H.value="è¯·è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ";return}_.value=!0,H.value="";try{const s=yield pt(C.value,w.value);s.data.token&&(localStorage.setItem("token",s.data.token),l.value=!0,y.value=s.data.lastLoginTime||"",a.value=s.data.lastLoginIp||"",yield te(),V(),n())}catch(s){H.value=((c=(D=s.response)==null?void 0:D.data)==null?void 0:c.message)||"ç™»å½•å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç”¨æˆ·åå’Œå¯†ç "}finally{_.value=!1}})}function R(){u&&(clearTimeout(u),u=null),p(),localStorage.removeItem("token"),localStorage.removeItem("lastActivityTime"),l.value=!1,C.value="",w.value="",H.value=""}function W(){window.open("/","_blank")}function b(){X.value=!X.value}function M(){X.value=!1}return(D,c)=>l.value?(i(),r("div",yi,[e("aside",{class:O(["admin-sider",{open:X.value}]),onClick:$e(M,["self"])},[e("div",{class:"logo clickable",onClick:c[3]||(c[3]=s=>{d.value="welcome",M()})},"Admin"),e("ul",_i,[e("li",{class:O({active:d.value==="menu"}),onClick:c[4]||(c[4]=s=>{d.value="menu",M()})},"æ ç›®ç®¡ç†",2),e("li",{class:O({active:d.value==="card"}),onClick:c[5]||(c[5]=s=>{d.value="card",M()})},"å¡ç‰‡ç®¡ç†",2),e("li",{class:O({active:d.value==="duplicate"}),onClick:c[6]||(c[6]=s=>{d.value="duplicate",M()})},"å»é‡ç®¡ç†",2),e("li",{class:O({active:d.value==="tag"}),onClick:c[7]||(c[7]=s=>{d.value="tag",M()})},"æ ‡ç­¾ç®¡ç†",2),e("li",{class:O({active:d.value==="promo"}),onClick:c[8]||(c[8]=s=>{d.value="promo",M()})},"å®£ä¼ ç®¡ç†",2),e("li",{class:O({active:d.value==="friend"}),onClick:c[9]||(c[9]=s=>{d.value="friend",M()})},"å‹é“¾ç®¡ç†",2),e("li",{class:O({active:d.value==="user"}),onClick:c[10]||(c[10]=s=>{d.value="user",M()})},"ç”¨æˆ·ç®¡ç†",2),e("li",{class:O({active:d.value==="backup"}),onClick:c[11]||(c[11]=s=>{d.value="backup",M()})},"å¤‡ä»½ç®¡ç†",2)])],2),e("main",$i,[e("div",Ci,[e("button",{class:"menu-toggle",onClick:b}," â˜° "),e("div",Mi,k(Y.value),1),e("div",{class:"header-actions"},[e("span",{class:"home-icon",onClick:W,title:"è¿›å…¥ä¸»é¡µ"},[...c[16]||(c[16]=[e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},[e("path",{d:"M3 10.5L12 4l9 6.5V20a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1v-4h-4v4a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V10.5z",stroke:"#2566d8","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])]),e("button",{class:"btn logout-btn",onClick:R},"é€€å‡ºç™»å½•")])]),e("div",xi,[Pe(Oe,{name:"fade",mode:"out-in"},{default:He(()=>[(i(),Fe(Re(v.value),je({key:d.value},h.value),null,16))]),_:1})]),c[17]||(c[17]=e("footer",{class:"admin-footer"},[e("p",{class:"admin-copyright"},[P("Copyright Â© 2025 Con-Nav-Item | "),e("a",{href:"https://github.com/zczy-k/Con-Nav-Item",target:"_blank",class:"footer-link"},"Powered by zczy-k")])],-1))])])):(i(),r("div",ci,[e("div",vi,[c[15]||(c[15]=e("h2",{class:"login-title"},"åå°ç®¡ç†ç™»å½•",-1)),e("div",pi,[x(e("input",{"onUpdate:modelValue":c[0]||(c[0]=s=>C.value=s),type:"text",placeholder:"ç”¨æˆ·åï¼ˆé»˜è®¤ï¼šadminï¼‰",class:"login-input",onKeyup:ke(F,["enter"])},null,544),[[I,C.value]]),e("div",mi,[x(e("input",{"onUpdate:modelValue":c[1]||(c[1]=s=>w.value=s),type:Q.value?"text":"password",placeholder:"å¯†ç ï¼ˆé»˜è®¤ï¼š123456ï¼‰",class:"login-input password-input",onKeyup:ke(F,["enter"])},null,40,bi),[[Ee,w.value]]),e("span",{class:"toggle-password",onClick:c[2]||(c[2]=s=>Q.value=!Q.value)},[Q.value?(i(),r("svg",gi,[...c[12]||(c[12]=[e("path",{d:"M1 12s4-7 11-7 11 7 11 7-4 7-11 7S1 12 1 12z"},null,-1),e("circle",{cx:"12",cy:"12",r:"3"},null,-1)])])):(i(),r("svg",fi,[...c[13]||(c[13]=[e("path",{d:"M17.94 17.94A10.94 10.94 0 0 1 12 19c-7 0-11-7-11-7a21.77 21.77 0 0 1 5.06-6.06"},null,-1),e("path",{d:"M1 1l22 22"},null,-1),e("path",{d:"M9.53 9.53A3 3 0 0 0 12 15a3 3 0 0 0 2.47-5.47"},null,-1)])]))])]),e("div",hi,[e("button",{onClick:W,class:"back-btn"},[...c[14]||(c[14]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{d:"M19 12H5M12 19l-7-7 7-7"})],-1),P(" è¿”å›é¦–é¡µ ",-1)])]),e("button",{onClick:F,class:"login-btn",disabled:_.value},k(_.value?"ç™»å½•ä¸­...":"ç™»å½•"),9,wi)]),H.value?(i(),r("p",ki,k(H.value),1)):N("",!0)])])]))}},Ai=ee(Vi,[["__scopeId","data-v-9a3c8f8f"]]);export{Ai as default};
